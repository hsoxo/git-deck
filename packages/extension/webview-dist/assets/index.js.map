{"version":3,"file":"index.js","sources":["../../src/services/rpcClient.ts","../../src/store/gitStore.ts","../../src/components/Diff/DiffViewer.tsx","../../src/components/Stage/FileList.tsx","../../src/components/Stage/CommitBox.tsx","../../src/components/Stage/StagePanel.tsx","../../src/components/Operations/RevertDialog.tsx","../../src/components/Operations/RebaseDialog.tsx","../../src/components/Operations/CherryPickDialog.tsx","../../src/components/History/CommitList.tsx","../../src/services/GraphLayoutEngine.ts","../../src/utils/CanvasRenderer.ts","../../src/components/History/CommitGraph.tsx","../../src/components/History/CommitDetails.tsx","../../src/components/History/SearchBar.tsx","../../src/components/History/VirtualScroll.tsx","../../src/components/History/HistoryPanel.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["import type { RPCRequest, RPCResponse } from '@git-gui/shared';\nimport { getVsCodeApi } from '../utils/vscodeApi';\n\nclass RPCClient {\n    private vscode: any;\n    private requestId = 0;\n    private pending = new Map<\n        number,\n        { resolve: (value: any) => void; reject: (error: any) => void }\n    >();\n    private requestCache = new Map<\n        string,\n        { result: any; timestamp: number; accessCount: number }\n    >();\n    private readonly CACHE_TTL = 1000; // 1 second cache\n    private readonly MAX_CACHE_SIZE = 100; // Max cache entries\n    private readonly REQUEST_TIMEOUT = 30000; // 30 seconds\n    private inflightRequests = new Map<string, Promise<any>>(); // Request deduplication\n\n    constructor() {\n        console.log('[RPC Client] Initializing...');\n\n        this.vscode = getVsCodeApi();\n        if (this.vscode) {\n            window.addEventListener('message', this.handleMessage.bind(this));\n            console.log('[RPC Client] Initialized successfully');\n            console.log('[RPC Client] VS Code API:', this.vscode);\n        } else {\n            console.error('[RPC Client] VS Code API is not available');\n        }\n    }\n\n    async call(method: string, ...params: any[]): Promise<any> {\n        if (!this.vscode) {\n            console.error('[RPC Client] VS Code API not available, method:', method);\n            throw new Error('VS Code API not available');\n        }\n\n        console.log('[RPC Client] Calling method:', method, 'params:', params);\n\n        // Check cache for read-only operations\n        if (this.isReadOnlyMethod(method)) {\n            const cacheKey = this.getCacheKey(method, params);\n            const cached = this.requestCache.get(cacheKey);\n\n            if (cached && Date.now() - cached.timestamp < this.CACHE_TTL) {\n                cached.accessCount++;\n                return cached.result;\n            }\n\n            // Request deduplication: merge concurrent identical requests\n            const inflightKey = cacheKey;\n            if (this.inflightRequests.has(inflightKey)) {\n                return this.inflightRequests.get(inflightKey)!;\n            }\n\n            const promise = this.executeRequest(method, params, cacheKey);\n            this.inflightRequests.set(inflightKey, promise);\n\n            try {\n                const result = await promise;\n                return result;\n            } finally {\n                this.inflightRequests.delete(inflightKey);\n            }\n        }\n\n        return this.executeRequest(method, params);\n    }\n\n    private async executeRequest(method: string, params: any[], cacheKey?: string): Promise<any> {\n        const id = ++this.requestId;\n        const request: RPCRequest = { id, method, params };\n\n        console.log('[RPC Client] Executing request:', request);\n\n        return new Promise((resolve, reject) => {\n            // Timeout handling\n            const timeoutId = setTimeout(() => {\n                console.error('[RPC Client] Request timeout:', method, 'id:', id);\n                this.pending.delete(id);\n                reject(new Error(`RPC timeout: ${method}`));\n            }, this.REQUEST_TIMEOUT);\n\n            this.pending.set(id, {\n                resolve: (value: any) => {\n                    clearTimeout(timeoutId);\n                    this.pending.delete(id);\n\n                    // Cache result for read-only operations\n                    if (cacheKey && this.isReadOnlyMethod(method)) {\n                        this.evictCacheIfNeeded();\n                        this.requestCache.set(cacheKey, {\n                            result: value,\n                            timestamp: Date.now(),\n                            accessCount: 1,\n                        });\n                    }\n\n                    resolve(value);\n                },\n                reject: (error: any) => {\n                    clearTimeout(timeoutId);\n                    this.pending.delete(id);\n                    reject(error);\n                },\n            });\n\n            console.log('[RPC Client] Posting message to extension:', request);\n            this.vscode.postMessage(request);\n        });\n    }\n\n    /**\n     * Clear cache for specific method or all cache\n     */\n    clearCache(method?: string): void {\n        if (method) {\n            for (const key of this.requestCache.keys()) {\n                if (key.startsWith(method)) {\n                    this.requestCache.delete(key);\n                }\n            }\n        } else {\n            this.requestCache.clear();\n        }\n    }\n\n    /**\n     * Evict cache entries using LFU (Least Frequently Used) strategy\n     */\n    private evictCacheIfNeeded(): void {\n        if (this.requestCache.size >= this.MAX_CACHE_SIZE) {\n            // Find least frequently used entry\n            let minAccessCount = Infinity;\n            let leastUsedKey: string | null = null;\n\n            for (const [key, entry] of this.requestCache.entries()) {\n                if (entry.accessCount < minAccessCount) {\n                    minAccessCount = entry.accessCount;\n                    leastUsedKey = key;\n                }\n            }\n\n            if (leastUsedKey) {\n                this.requestCache.delete(leastUsedKey);\n            }\n        }\n    }\n\n    private isReadOnlyMethod(method: string): boolean {\n        return (\n            method.startsWith('git.get') ||\n            method.startsWith('git.list') ||\n            method === 'git.getStatus' ||\n            method === 'git.getLog' ||\n            method === 'git.getBranches'\n        );\n    }\n\n    private getCacheKey(method: string, params: any[]): string {\n        // Optimize JSON serialization: use stable stringify for cache key\n        return `${method}:${this.stableStringify(params)}`;\n    }\n\n    /**\n     * Stable JSON stringify to avoid redundant serialization\n     * Caches stringified params to reduce repeated stringify calls\n     */\n    private stableStringify(obj: any): string {\n        if (obj === null || obj === undefined) {\n            return String(obj);\n        }\n        if (typeof obj !== 'object') {\n            return String(obj);\n        }\n        if (Array.isArray(obj)) {\n            return `[${obj.map((item) => this.stableStringify(item)).join(',')}]`;\n        }\n        // Sort keys for stable output\n        const keys = Object.keys(obj).sort();\n        const pairs = keys.map((k) => `\"${k}\":${this.stableStringify(obj[k])}`);\n        return `{${pairs.join(',')}}`;\n    }\n\n    private handleMessage(event: MessageEvent) {\n        const response: RPCResponse = event.data;\n\n        console.log('[RPC Client] Received message:', response);\n        console.log('[RPC Client] Response details:', {\n            id: response.id,\n            hasError: !!response.error,\n            hasResult: response.result !== undefined,\n            resultType: typeof response.result\n        });\n\n        if (!response.id) {\n            // This is a notification message\n            console.log('[RPC Client] Notification message received');\n            return;\n        }\n\n        const pending = this.pending.get(response.id);\n        if (!pending) {\n            console.warn('[RPC Client] No pending request for id:', response.id);\n            return;\n        }\n\n        if (response.error) {\n            console.error('[RPC Client] Request failed:', response.error);\n            pending.reject(new Error(response.error));\n        } else {\n            console.log('[RPC Client] Request succeeded, id:', response.id, 'result:', response.result);\n            pending.resolve(response.result);\n        }\n\n        this.pending.delete(response.id);\n    }\n}\n\nexport const rpcClient = new RPCClient();\n","import { create } from 'zustand';\nimport type { GitStatus, CommitNode, BranchInfo, RemoteInfo } from '@git-gui/shared';\nimport { rpcClient } from '../services/rpcClient';\n\ninterface GitState {\n    status: GitStatus | null;\n    commits: CommitNode[];\n    branches: BranchInfo[];\n    selectedCommits: string[];\n    loading: boolean;\n    error: string | null;\n    hasMore: boolean;\n    searchQuery: string | null;\n\n    // Actions\n    fetchStatus: () => Promise<void>;\n    fetchHistory: (options?: any) => Promise<void>;\n    fetchBranches: () => Promise<void>;\n    stageFiles: (files: string[]) => Promise<void>;\n    unstageFiles: (files: string[]) => Promise<void>;\n    stageAll: () => Promise<void>;\n    unstageAll: () => Promise<void>;\n    commit: (message: string) => Promise<void>;\n    discardFiles: (files: string[]) => Promise<void>;\n    selectCommit: (hash: string, multi: boolean) => void;\n    clearSelection: () => void;\n    amendCommit: (message?: string) => Promise<void>;\n    revertCommits: (commits: string[]) => Promise<void>;\n    getFileDiff: (file: string, staged?: boolean) => Promise<string>;\n    searchCommits: (query: string, type: 'message' | 'author' | 'hash') => Promise<void>;\n    clearSearch: () => Promise<void>;\n    loadMore: () => Promise<void>;\n    startRebase: (onto: string, interactive: boolean, commits?: any[]) => Promise<void>;\n    continueRebase: () => Promise<void>;\n    abortRebase: () => Promise<void>;\n    skipRebase: () => Promise<void>;\n    getRebaseState: () => Promise<any>;\n    isRebasing: () => Promise<boolean>;\n    cherryPick: (commits: string[]) => Promise<void>;\n    getStashes: () => Promise<any[]>;\n    createStash: (message?: string, includeUntracked?: boolean) => Promise<void>;\n    applyStash: (index: number) => Promise<void>;\n    popStash: (index: number) => Promise<void>;\n    dropStash: (index: number) => Promise<void>;\n    currentBranch: string | null;\n    createBranch: (name: string, startPoint?: string) => Promise<void>;\n    deleteBranch: (name: string, force?: boolean) => Promise<void>;\n    renameBranch: (oldName: string, newName: string, force?: boolean) => Promise<void>;\n    checkoutBranch: (name: string, create?: boolean) => Promise<void>;\n    mergeBranch: (branch: string, noFastForward?: boolean) => Promise<void>;\n\n    // Remote operations\n    remotes: RemoteInfo[];\n    fetchRemotes: () => Promise<void>;\n    addRemote: (name: string, url: string) => Promise<void>;\n    removeRemote: (name: string) => Promise<void>;\n    fetch: (remote?: string, prune?: boolean) => Promise<void>;\n    pull: (remote?: string, branch?: string, rebase?: boolean) => Promise<void>;\n    push: (remote?: string, branch?: string, force?: boolean, setUpstream?: boolean) => Promise<void>;\n}\n\nexport const useGitStore = create<GitState>((set, get) => ({\n    status: null,\n    commits: [],\n    branches: [],\n    selectedCommits: [],\n    loading: false,\n    error: null,\n    hasMore: true,\n    searchQuery: null,\n    currentBranch: null,\n    remotes: [],\n\n    fetchStatus: async () => {\n        try {\n            console.log('[GitStore] fetchStatus: starting...');\n            set({ loading: true, error: null });\n            const status = await rpcClient.call('git.getStatus');\n            console.log('[GitStore] fetchStatus: received status:', status);\n            set({ status, loading: false });\n            console.log('[GitStore] fetchStatus: state updated');\n        } catch (error) {\n            console.error('[GitStore] fetchStatus: error:', error);\n            set({ error: (error as Error).message, loading: false });\n        }\n    },\n\n    fetchHistory: async (options = {}) => {\n        try {\n            console.log('[GitStore] fetchHistory: starting with options:', options);\n            set({ loading: true, error: null });\n            const commits = await rpcClient.call('git.getCommitLog', options);\n            console.log('[GitStore] fetchHistory: received commits:', commits?.length, 'commits');\n            set({ commits, loading: false });\n            console.log('[GitStore] fetchHistory: state updated');\n        } catch (error) {\n            console.error('[GitStore] fetchHistory: error:', error);\n            set({ error: (error as Error).message, loading: false });\n        }\n    },\n\n    fetchBranches: async () => {\n        try {\n            const branches = await rpcClient.call('git.getBranches');\n            const currentBranch = branches.find((b: BranchInfo) => b.current)?.name || null;\n            set({ branches, currentBranch });\n        } catch (error) {\n            set({ error: (error as Error).message });\n        }\n    },\n\n    stageFiles: async (files) => {\n        try {\n            await rpcClient.call('git.stageFiles', files);\n            await get().fetchStatus();\n        } catch (error) {\n            set({ error: (error as Error).message });\n        }\n    },\n\n    unstageFiles: async (files) => {\n        try {\n            await rpcClient.call('git.unstageFiles', files);\n            await get().fetchStatus();\n        } catch (error) {\n            set({ error: (error as Error).message });\n        }\n    },\n\n    stageAll: async () => {\n        try {\n            await rpcClient.call('git.stageAll');\n            await get().fetchStatus();\n        } catch (error) {\n            set({ error: (error as Error).message });\n        }\n    },\n\n    unstageAll: async () => {\n        try {\n            await rpcClient.call('git.unstageAll');\n            await get().fetchStatus();\n        } catch (error) {\n            set({ error: (error as Error).message });\n        }\n    },\n\n    commit: async (message) => {\n        try {\n            await rpcClient.call('git.commit', message);\n            await get().fetchStatus();\n            await get().fetchHistory();\n        } catch (error) {\n            set({ error: (error as Error).message });\n        }\n    },\n\n    discardFiles: async (files) => {\n        try {\n            await rpcClient.call('git.discard', files);\n            await get().fetchStatus();\n        } catch (error) {\n            set({ error: (error as Error).message });\n        }\n    },\n\n    selectCommit: (hash, multi) => {\n        const { selectedCommits } = get();\n        if (multi) {\n            if (selectedCommits.includes(hash)) {\n                set({ selectedCommits: selectedCommits.filter((h) => h !== hash) });\n            } else {\n                set({ selectedCommits: [...selectedCommits, hash] });\n            }\n        } else {\n            set({ selectedCommits: [hash] });\n        }\n    },\n\n    clearSelection: () => {\n        set({ selectedCommits: [] });\n    },\n\n    amendCommit: async (message?: string) => {\n        try {\n            await rpcClient.call('git.amendCommit', message);\n            await get().fetchStatus();\n            await get().fetchHistory();\n        } catch (error) {\n            set({ error: (error as Error).message });\n        }\n    },\n\n    revertCommits: async (commits: string[]) => {\n        try {\n            await rpcClient.call('git.revert', commits);\n            await get().fetchHistory();\n        } catch (error) {\n            set({ error: (error as Error).message });\n        }\n    },\n\n    getFileDiff: async (file: string, staged: boolean = false): Promise<string> => {\n        try {\n            return await rpcClient.call('git.getFileDiff', file, staged);\n        } catch (error) {\n            set({ error: (error as Error).message });\n            return '';\n        }\n    },\n\n    searchCommits: async (query: string, type: 'message' | 'author' | 'hash') => {\n        try {\n            set({ loading: true, error: null, searchQuery: query });\n\n            let commits: CommitNode[];\n            if (type === 'author') {\n                commits = await rpcClient.call('git.getCommitsByAuthor', query, { maxCount: 100 });\n            } else if (type === 'hash') {\n                // Search by hash - just filter locally or fetch specific commit\n                const allCommits = get().commits;\n                commits = allCommits.filter(\n                    (c) =>\n                        c.hash.toLowerCase().includes(query.toLowerCase()) ||\n                        c.shortHash.toLowerCase().includes(query.toLowerCase())\n                );\n            } else {\n                // Search by message\n                commits = await rpcClient.call('git.searchCommits', query, { maxCount: 100 });\n            }\n\n            set({ commits, loading: false, hasMore: false });\n        } catch (error) {\n            set({ error: (error as Error).message, loading: false });\n        }\n    },\n\n    clearSearch: async () => {\n        set({ searchQuery: null });\n        await get().fetchHistory({ maxCount: 100 });\n    },\n\n    loadMore: async () => {\n        const { commits, loading, hasMore, searchQuery } = get();\n\n        if (loading || !hasMore || searchQuery) {\n            return;\n        }\n\n        try {\n            set({ loading: true });\n            const newCommits = await rpcClient.call('git.getCommitLog', {\n                maxCount: 50,\n                skip: commits.length,\n            });\n\n            if (newCommits.length === 0) {\n                set({ hasMore: false, loading: false });\n            } else {\n                set({\n                    commits: [...commits, ...newCommits],\n                    loading: false,\n                    hasMore: newCommits.length === 50,\n                });\n            }\n        } catch (error) {\n            set({ error: (error as Error).message, loading: false });\n        }\n    },\n\n    startRebase: async (onto: string, interactive: boolean, commits?: any[]) => {\n        try {\n            set({ loading: true, error: null });\n            if (interactive && commits) {\n                await rpcClient.call('git.interactiveRebase', onto, commits);\n            } else {\n                await rpcClient.call('git.rebase', onto, interactive);\n            }\n            await get().fetchHistory();\n            await get().fetchStatus();\n            set({ loading: false });\n        } catch (error) {\n            set({ error: (error as Error).message, loading: false });\n            throw error;\n        }\n    },\n\n    continueRebase: async () => {\n        try {\n            set({ loading: true, error: null });\n            await rpcClient.call('git.rebaseContinue');\n            await get().fetchHistory();\n            await get().fetchStatus();\n            set({ loading: false });\n        } catch (error) {\n            set({ error: (error as Error).message, loading: false });\n            throw error;\n        }\n    },\n\n    abortRebase: async () => {\n        try {\n            set({ loading: true, error: null });\n            await rpcClient.call('git.rebaseAbort');\n            await get().fetchHistory();\n            await get().fetchStatus();\n            set({ loading: false });\n        } catch (error) {\n            set({ error: (error as Error).message, loading: false });\n            throw error;\n        }\n    },\n\n    skipRebase: async () => {\n        try {\n            set({ loading: true, error: null });\n            await rpcClient.call('git.rebaseSkip');\n            await get().fetchHistory();\n            await get().fetchStatus();\n            set({ loading: false });\n        } catch (error) {\n            set({ error: (error as Error).message, loading: false });\n            throw error;\n        }\n    },\n\n    getRebaseState: async () => {\n        try {\n            return await rpcClient.call('git.getRebaseState');\n        } catch (error) {\n            set({ error: (error as Error).message });\n            return { type: 'idle' };\n        }\n    },\n\n    isRebasing: async () => {\n        try {\n            return await rpcClient.call('git.isRebasing');\n        } catch (error) {\n            set({ error: (error as Error).message });\n            return false;\n        }\n    },\n\n    cherryPick: async (commits: string[]) => {\n        try {\n            set({ loading: true, error: null });\n            await rpcClient.call('git.cherryPick', commits);\n            await get().fetchHistory();\n            await get().fetchStatus();\n            set({ loading: false });\n        } catch (error) {\n            set({ error: (error as Error).message, loading: false });\n            throw error;\n        }\n    },\n\n    getStashes: async () => {\n        try {\n            return await rpcClient.call('git.stashList');\n        } catch (error) {\n            set({ error: (error as Error).message });\n            return [];\n        }\n    },\n\n    createStash: async (message?: string, includeUntracked: boolean = false) => {\n        try {\n            set({ loading: true, error: null });\n            await rpcClient.call('git.stashPush', message, includeUntracked);\n            await get().fetchStatus();\n            set({ loading: false });\n        } catch (error) {\n            set({ error: (error as Error).message, loading: false });\n            throw error;\n        }\n    },\n\n    applyStash: async (index: number) => {\n        try {\n            set({ loading: true, error: null });\n            await rpcClient.call('git.stashApply', index);\n            await get().fetchStatus();\n            set({ loading: false });\n        } catch (error) {\n            set({ error: (error as Error).message, loading: false });\n            throw error;\n        }\n    },\n\n    popStash: async (index: number) => {\n        try {\n            set({ loading: true, error: null });\n            await rpcClient.call('git.stashPop', index);\n            await get().fetchStatus();\n            set({ loading: false });\n        } catch (error) {\n            set({ error: (error as Error).message, loading: false });\n            throw error;\n        }\n    },\n\n    dropStash: async (index: number) => {\n        try {\n            set({ loading: true, error: null });\n            await rpcClient.call('git.stashDrop', index);\n            set({ loading: false });\n        } catch (error) {\n            set({ error: (error as Error).message, loading: false });\n            throw error;\n        }\n    },\n\n    createBranch: async (name: string, startPoint?: string) => {\n        try {\n            set({ loading: true, error: null });\n            await rpcClient.call('git.createBranch', name, startPoint);\n            await get().fetchBranches();\n            set({ loading: false });\n        } catch (error) {\n            set({ error: (error as Error).message, loading: false });\n            throw error;\n        }\n    },\n\n    deleteBranch: async (name: string, force: boolean = false) => {\n        try {\n            set({ loading: true, error: null });\n            await rpcClient.call('git.deleteBranch', name, force);\n            await get().fetchBranches();\n            set({ loading: false });\n        } catch (error) {\n            set({ error: (error as Error).message, loading: false });\n            throw error;\n        }\n    },\n\n    renameBranch: async (oldName: string, newName: string, force: boolean = false) => {\n        try {\n            set({ loading: true, error: null });\n            await rpcClient.call('git.renameBranch', oldName, newName, force);\n            await get().fetchBranches();\n            set({ loading: false });\n        } catch (error) {\n            set({ error: (error as Error).message, loading: false });\n            throw error;\n        }\n    },\n\n    checkoutBranch: async (name: string, create: boolean = false) => {\n        try {\n            set({ loading: true, error: null });\n            await rpcClient.call('git.checkoutBranch', name, create);\n            await get().fetchBranches();\n            await get().fetchStatus();\n            await get().fetchHistory();\n            set({ loading: false });\n        } catch (error) {\n            set({ error: (error as Error).message, loading: false });\n            throw error;\n        }\n    },\n\n    mergeBranch: async (branch: string, noFastForward: boolean = false) => {\n        try {\n            set({ loading: true, error: null });\n            await rpcClient.call('git.mergeBranch', branch, noFastForward);\n            await get().fetchHistory();\n            await get().fetchStatus();\n            set({ loading: false });\n        } catch (error) {\n            set({ error: (error as Error).message, loading: false });\n            throw error;\n        }\n    },\n\n    // Remote operations\n    fetchRemotes: async () => {\n        try {\n            set({ loading: true, error: null });\n            const remotes = await rpcClient.call('git.listRemotes');\n            set({ remotes, loading: false });\n        } catch (error) {\n            set({ error: (error as Error).message, loading: false });\n        }\n    },\n\n    addRemote: async (name: string, url: string) => {\n        try {\n            set({ loading: true, error: null });\n            await rpcClient.call('git.addRemote', name, url);\n            await get().fetchRemotes();\n            set({ loading: false });\n        } catch (error) {\n            set({ error: (error as Error).message, loading: false });\n            throw error;\n        }\n    },\n\n    removeRemote: async (name: string) => {\n        try {\n            set({ loading: true, error: null });\n            await rpcClient.call('git.removeRemote', name);\n            await get().fetchRemotes();\n            set({ loading: false });\n        } catch (error) {\n            set({ error: (error as Error).message, loading: false });\n            throw error;\n        }\n    },\n\n    fetch: async (remote?: string, prune?: boolean) => {\n        try {\n            set({ loading: true, error: null });\n            await rpcClient.call('git.fetch', remote, prune);\n            await get().fetchHistory();\n            await get().fetchBranches();\n            set({ loading: false });\n        } catch (error) {\n            set({ error: (error as Error).message, loading: false });\n            throw error;\n        }\n    },\n\n    pull: async (remote?: string, branch?: string, rebase?: boolean) => {\n        try {\n            set({ loading: true, error: null });\n            await rpcClient.call('git.pull', remote, branch, rebase);\n            await get().fetchHistory();\n            await get().fetchStatus();\n            set({ loading: false });\n        } catch (error) {\n            set({ error: (error as Error).message, loading: false });\n            throw error;\n        }\n    },\n\n    push: async (remote?: string, branch?: string, force?: boolean, setUpstream?: boolean) => {\n        try {\n            set({ loading: true, error: null });\n            await rpcClient.call('git.push', remote, branch, force, setUpstream);\n            await get().fetchBranches();\n            set({ loading: false });\n        } catch (error) {\n            set({ error: (error as Error).message, loading: false });\n            throw error;\n        }\n    },\n}));\n","import { useState, useEffect } from 'react';\nimport { useGitStore } from '../../store/gitStore';\nimport './DiffViewer.css';\n\ninterface DiffViewerProps {\n    file: string;\n    staged?: boolean;\n    onClose: () => void;\n}\n\nexport function DiffViewer({ file, staged = false, onClose }: DiffViewerProps) {\n    const [diff, setDiff] = useState<string>('');\n    const [loading, setLoading] = useState(true);\n    const { getFileDiff } = useGitStore();\n\n    useEffect(() => {\n        loadDiff();\n    }, [file, staged]);\n\n    const loadDiff = async () => {\n        setLoading(true);\n        const result = await getFileDiff(file, staged);\n        setDiff(result);\n        setLoading(false);\n    };\n\n    const parseDiff = (diffText: string) => {\n        const lines = diffText.split('\\n');\n        return lines.map((line, index) => {\n            let className = 'diff-line';\n            if (line.startsWith('+') && !line.startsWith('+++')) {\n                className += ' diff-addition';\n            } else if (line.startsWith('-') && !line.startsWith('---')) {\n                className += ' diff-deletion';\n            } else if (line.startsWith('@@')) {\n                className += ' diff-hunk';\n            }\n            return (\n                <div key={index} className={className}>\n                    {line || ' '}\n                </div>\n            );\n        });\n    };\n\n    return (\n        <div className=\"diff-viewer-overlay\" onClick={onClose}>\n            <div className=\"diff-viewer\" onClick={(e) => e.stopPropagation()}>\n                <div className=\"diff-viewer-header\">\n                    <h3>{file}</h3>\n                    <span className=\"diff-viewer-badge\">{staged ? 'Staged' : 'Unstaged'}</span>\n                    <button className=\"diff-viewer-close\" onClick={onClose}>\n                        ×\n                    </button>\n                </div>\n                <div className=\"diff-viewer-content\">\n                    {loading ? (\n                        <div className=\"diff-viewer-loading\">Loading diff...</div>\n                    ) : diff ? (\n                        <pre className=\"diff-viewer-pre\">{parseDiff(diff)}</pre>\n                    ) : (\n                        <div className=\"diff-viewer-empty\">No changes</div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n","import { useState } from 'react';\nimport { DiffViewer } from '../Diff/DiffViewer';\nimport './FileList.css';\n\ninterface FileListProps {\n    files: string[];\n    onAction: (files: string[]) => void;\n    actionLabel: string;\n    onDiscard?: (files: string[]) => void;\n    staged?: boolean;\n}\n\nexport function FileList({\n    files,\n    onAction,\n    actionLabel,\n    onDiscard,\n    staged = false,\n}: FileListProps) {\n    const [selectedFiles, setSelectedFiles] = useState<Set<string>>(new Set());\n    const [diffFile, setDiffFile] = useState<string | null>(null);\n\n    const handleFileClick = (file: string, event: React.MouseEvent) => {\n        if (event.ctrlKey || event.metaKey) {\n            // Multi-select\n            const newSelection = new Set(selectedFiles);\n            if (newSelection.has(file)) {\n                newSelection.delete(file);\n            } else {\n                newSelection.add(file);\n            }\n            setSelectedFiles(newSelection);\n        } else {\n            // Single select\n            setSelectedFiles(new Set([file]));\n        }\n    };\n\n    const handleFileDblClick = (file: string) => {\n        setDiffFile(file);\n    };\n\n    const handleAction = (file: string) => {\n        onAction([file]);\n        setSelectedFiles(new Set());\n    };\n\n    const handleActionSelected = () => {\n        if (selectedFiles.size > 0) {\n            onAction(Array.from(selectedFiles));\n            setSelectedFiles(new Set());\n        }\n    };\n\n    const handleDiscard = (file: string) => {\n        if (onDiscard) {\n            onDiscard([file]);\n            setSelectedFiles(new Set());\n        }\n    };\n\n    const handleDiscardSelected = () => {\n        if (onDiscard && selectedFiles.size > 0) {\n            onDiscard(Array.from(selectedFiles));\n            setSelectedFiles(new Set());\n        }\n    };\n\n    if (files.length === 0) {\n        return <div className=\"file-list-empty\">No changes</div>;\n    }\n\n    return (\n        <>\n            <div className=\"file-list\">\n                {selectedFiles.size > 0 && (\n                    <div className=\"file-list-actions\">\n                        <button onClick={handleActionSelected}>\n                            {actionLabel} {selectedFiles.size} file(s)\n                        </button>\n                        {onDiscard && !staged && (\n                            <button className=\"file-list-discard\" onClick={handleDiscardSelected}>\n                                Discard {selectedFiles.size} file(s)\n                            </button>\n                        )}\n                    </div>\n                )}\n                <div className=\"file-list-items\">\n                    {files.map((file) => (\n                        <div\n                            key={file}\n                            className={`file-item ${selectedFiles.has(file) ? 'selected' : ''}`}\n                            onClick={(e) => handleFileClick(file, e)}\n                            onDoubleClick={() => handleFileDblClick(file)}\n                            title=\"Double-click to view diff\"\n                        >\n                            <span className=\"file-name\">{file}</span>\n                            <div className=\"file-actions\">\n                                <button\n                                    className=\"file-action\"\n                                    onClick={(e) => {\n                                        e.stopPropagation();\n                                        handleAction(file);\n                                    }}\n                                >\n                                    {actionLabel}\n                                </button>\n                                {onDiscard && !staged && (\n                                    <button\n                                        className=\"file-action file-action-discard\"\n                                        onClick={(e) => {\n                                            e.stopPropagation();\n                                            handleDiscard(file);\n                                        }}\n                                    >\n                                        Discard\n                                    </button>\n                                )}\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n            {diffFile && (\n                <DiffViewer file={diffFile} staged={staged} onClose={() => setDiffFile(null)} />\n            )}\n        </>\n    );\n}\n","import { useState, useEffect } from 'react';\nimport { useGitStore } from '../../store/gitStore';\nimport './CommitBox.css';\n\nexport function CommitBox() {\n    const [message, setMessage] = useState('');\n    const [isAmend, setIsAmend] = useState(false);\n    const { status, commit, amendCommit, commits } = useGitStore();\n\n    useEffect(() => {\n        if (isAmend && commits.length > 0) {\n            setMessage(commits[0].message);\n        } else if (!isAmend) {\n            setMessage('');\n        }\n    }, [isAmend, commits]);\n\n    const handleCommit = async () => {\n        if (message.trim()) {\n            if (isAmend) {\n                await amendCommit(message);\n            } else {\n                if (status && status.staged.length > 0) {\n                    await commit(message);\n                }\n            }\n            setMessage('');\n            setIsAmend(false);\n        }\n    };\n\n    const handleKeyDown = (e: React.KeyboardEvent) => {\n        if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {\n            handleCommit();\n        }\n    };\n\n    const canCommit =\n        message.trim().length > 0 && (isAmend || (status && status.staged.length > 0));\n\n    return (\n        <div className=\"commit-box\">\n            <div className=\"commit-header\">\n                <h3>Commit Message</h3>\n                <div className=\"commit-options\">\n                    <label className=\"commit-amend-label\">\n                        <input\n                            type=\"checkbox\"\n                            checked={isAmend}\n                            onChange={(e) => setIsAmend(e.target.checked)}\n                            disabled={commits.length === 0}\n                        />\n                        <span>Amend last commit</span>\n                    </label>\n                    <span className=\"commit-hint\">Ctrl+Enter to commit</span>\n                </div>\n            </div>\n            <textarea\n                className=\"commit-message\"\n                placeholder={isAmend ? 'Edit commit message...' : 'Enter commit message...'}\n                value={message}\n                onChange={(e) => setMessage(e.target.value)}\n                onKeyDown={handleKeyDown}\n                rows={4}\n            />\n            <div className=\"commit-footer\">\n                <span className=\"commit-info\">\n                    {isAmend\n                        ? 'Amending last commit'\n                        : `${status?.staged.length || 0} file(s) staged`}\n                </span>\n                <button className=\"commit-button\" onClick={handleCommit} disabled={!canCommit}>\n                    {isAmend ? 'Amend Commit' : 'Commit'}\n                </button>\n            </div>\n        </div>\n    );\n}\n","import { useGitStore } from '../../store/gitStore';\nimport { FileList } from './FileList';\nimport { CommitBox } from './CommitBox';\nimport './StagePanel.css';\n\nexport function StagePanel() {\n    const { status, stageFiles, unstageFiles, stageAll, unstageAll, discardFiles } = useGitStore();\n\n    if (!status) {\n        return <div className=\"stage-panel\">Loading...</div>;\n    }\n\n    return (\n        <div className=\"stage-panel\">\n            <div className=\"stage-section\">\n                <div className=\"section-header\">\n                    <h3>Unstaged Changes</h3>\n                    <button onClick={stageAll} disabled={status.unstaged.length === 0}>\n                        Stage All\n                    </button>\n                </div>\n                <FileList\n                    files={[...status.unstaged, ...status.untracked]}\n                    onAction={stageFiles}\n                    onDiscard={discardFiles}\n                    actionLabel=\"Stage\"\n                    staged={false}\n                />\n            </div>\n\n            <div className=\"stage-section\">\n                <div className=\"section-header\">\n                    <h3>Staged Changes</h3>\n                    <button onClick={unstageAll} disabled={status.staged.length === 0}>\n                        Unstage All\n                    </button>\n                </div>\n                <FileList\n                    files={status.staged}\n                    onAction={unstageFiles}\n                    actionLabel=\"Unstage\"\n                    staged={true}\n                />\n            </div>\n\n            <CommitBox />\n        </div>\n    );\n}\n","import { useState } from 'react';\nimport type { CommitNode } from '@git-gui/shared';\nimport { useGitStore } from '../../store/gitStore';\nimport './RevertDialog.css';\n\ninterface RevertDialogProps {\n    commits: CommitNode[];\n    onClose: () => void;\n}\n\nexport function RevertDialog({ commits, onClose }: RevertDialogProps) {\n    const [loading, setLoading] = useState(false);\n    const { revertCommits } = useGitStore();\n\n    const handleRevert = async () => {\n        setLoading(true);\n        try {\n            await revertCommits(commits.map((c) => c.hash));\n            onClose();\n        } catch (error) {\n            console.error('Revert failed:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"revert-dialog-overlay\" onClick={onClose}>\n            <div className=\"revert-dialog\" onClick={(e) => e.stopPropagation()}>\n                <div className=\"revert-dialog-header\">\n                    <h3>Revert Commit{commits.length > 1 ? 's' : ''}</h3>\n                </div>\n                <div className=\"revert-dialog-content\">\n                    <p>\n                        Are you sure you want to revert the following commit\n                        {commits.length > 1 ? 's' : ''}?\n                    </p>\n                    <div className=\"revert-dialog-commits\">\n                        {commits.map((commit) => (\n                            <div key={commit.hash} className=\"revert-dialog-commit\">\n                                <span className=\"revert-dialog-commit-hash\">\n                                    {commit.shortHash}\n                                </span>\n                                <span className=\"revert-dialog-commit-message\">\n                                    {commit.message}\n                                </span>\n                            </div>\n                        ))}\n                    </div>\n                    <p className=\"revert-dialog-note\">\n                        This will create new commit{commits.length > 1 ? 's' : ''} that undo\n                        {commits.length === 1 ? 'es' : ''} these changes.\n                    </p>\n                </div>\n                <div className=\"revert-dialog-footer\">\n                    <button onClick={onClose} disabled={loading}>\n                        Cancel\n                    </button>\n                    <button\n                        className=\"revert-dialog-confirm\"\n                        onClick={handleRevert}\n                        disabled={loading}\n                    >\n                        {loading ? 'Reverting...' : 'Revert'}\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n}\n","import React, { useState, useEffect } from 'react';\nimport type { BranchInfo } from '@git-gui/shared';\nimport { rpcClient } from '../../services/rpcClient';\nimport './RebaseDialog.css';\n\ninterface RebaseDialogProps {\n    currentBranch: string;\n    branches: BranchInfo[];\n    onClose: () => void;\n    onSuccess: () => void;\n}\n\ntype RebaseAction = 'pick' | 'reword' | 'edit' | 'squash' | 'fixup' | 'drop';\n\ninterface RebaseCommit {\n    hash: string;\n    shortHash: string;\n    message: string;\n    action: RebaseAction;\n}\n\nexport const RebaseDialog: React.FC<RebaseDialogProps> = ({\n    currentBranch,\n    branches,\n    onClose,\n    onSuccess,\n}) => {\n    const [selectedBranch, setSelectedBranch] = useState('');\n    const [commits, setCommits] = useState<RebaseCommit[]>([]);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState<string | null>(null);\n    const [interactive, setInteractive] = useState(false);\n\n    // 加载可以 rebase 的 commits\n    useEffect(() => {\n        if (!selectedBranch) {\n            setCommits([]);\n            return;\n        }\n\n        const loadCommits = async () => {\n            try {\n                const rebaseCommits = await rpcClient.call('git.getRebaseCommits', selectedBranch);\n                setCommits(rebaseCommits);\n            } catch (err) {\n                console.error('Failed to load rebase commits:', err);\n                setCommits([]);\n            }\n        };\n\n        loadCommits();\n    }, [selectedBranch]);\n\n    const handleRebase = async () => {\n        if (!selectedBranch) {\n            setError('Please select a branch');\n            return;\n        }\n\n        setLoading(true);\n        setError(null);\n\n        try {\n            if (interactive && commits.length > 0) {\n                await rpcClient.call('git.interactiveRebase', selectedBranch, commits);\n            } else {\n                await rpcClient.call('git.rebase', selectedBranch, false);\n            }\n            onSuccess();\n            onClose();\n        } catch (err) {\n            setError((err as Error).message);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleActionChange = (index: number, action: RebaseAction) => {\n        const newCommits = [...commits];\n        newCommits[index].action = action;\n        setCommits(newCommits);\n    };\n\n    const moveCommitUp = (index: number) => {\n        if (index === 0) {\n            return;\n        }\n        const newCommits = [...commits];\n        [newCommits[index - 1], newCommits[index]] = [newCommits[index], newCommits[index - 1]];\n        setCommits(newCommits);\n    };\n\n    const moveCommitDown = (index: number) => {\n        if (index === commits.length - 1) {\n            return;\n        }\n        const newCommits = [...commits];\n        [newCommits[index], newCommits[index + 1]] = [newCommits[index + 1], newCommits[index]];\n        setCommits(newCommits);\n    };\n\n    const availableBranches = branches.filter((b) => !b.current);\n\n    return (\n        <div className=\"rebase-dialog-overlay\" onClick={onClose}>\n            <div className=\"rebase-dialog\" onClick={(e) => e.stopPropagation()}>\n                <div className=\"rebase-dialog-header\">\n                    <h3>Rebase Branch</h3>\n                    <button className=\"close-button\" onClick={onClose}>\n                        ×\n                    </button>\n                </div>\n\n                <div className=\"rebase-dialog-content\">\n                    {error && <div className=\"error-message\">{error}</div>}\n\n                    <div className=\"form-group\">\n                        <label>Current Branch:</label>\n                        <div className=\"current-branch\">{currentBranch}</div>\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label>Rebase onto:</label>\n                        <select\n                            value={selectedBranch}\n                            onChange={(e) => setSelectedBranch(e.target.value)}\n                            disabled={loading}\n                        >\n                            <option value=\"\">Select a branch...</option>\n                            {availableBranches.map((branch) => (\n                                <option key={branch.name} value={branch.name}>\n                                    {branch.name}\n                                </option>\n                            ))}\n                        </select>\n                    </div>\n\n                    {commits.length > 0 && (\n                        <>\n                            <div className=\"form-group\">\n                                <label>\n                                    <input\n                                        type=\"checkbox\"\n                                        checked={interactive}\n                                        onChange={(e) => setInteractive(e.target.checked)}\n                                        disabled={loading}\n                                    />\n                                    Interactive Rebase\n                                </label>\n                            </div>\n\n                            {interactive && (\n                                <div className=\"commits-list\">\n                                    <div className=\"commits-header\">\n                                        <span>Commits to rebase ({commits.length})</span>\n                                    </div>\n                                    {commits.map((commit, index) => (\n                                        <div key={commit.hash} className=\"commit-item\">\n                                            <div className=\"commit-controls\">\n                                                <button\n                                                    className=\"move-button\"\n                                                    onClick={() => moveCommitUp(index)}\n                                                    disabled={index === 0 || loading}\n                                                    title=\"Move up\"\n                                                >\n                                                    ↑\n                                                </button>\n                                                <button\n                                                    className=\"move-button\"\n                                                    onClick={() => moveCommitDown(index)}\n                                                    disabled={\n                                                        index === commits.length - 1 || loading\n                                                    }\n                                                    title=\"Move down\"\n                                                >\n                                                    ↓\n                                                </button>\n                                            </div>\n                                            <select\n                                                className=\"action-select\"\n                                                value={commit.action}\n                                                onChange={(e) =>\n                                                    handleActionChange(\n                                                        index,\n                                                        e.target.value as RebaseAction\n                                                    )\n                                                }\n                                                disabled={loading}\n                                            >\n                                                <option value=\"pick\">pick</option>\n                                                <option value=\"reword\">reword</option>\n                                                <option value=\"edit\">edit</option>\n                                                <option value=\"squash\">squash</option>\n                                                <option value=\"fixup\">fixup</option>\n                                                <option value=\"drop\">drop</option>\n                                            </select>\n                                            <span className=\"commit-hash\">{commit.shortHash}</span>\n                                            <span className=\"commit-message\">{commit.message}</span>\n                                        </div>\n                                    ))}\n                                </div>\n                            )}\n\n                            {!interactive && (\n                                <div className=\"info-message\">\n                                    {commits.length} commit{commits.length !== 1 ? 's' : ''} will be\n                                    rebased\n                                </div>\n                            )}\n                        </>\n                    )}\n                </div>\n\n                <div className=\"rebase-dialog-footer\">\n                    <button\n                        className=\"button button-secondary\"\n                        onClick={onClose}\n                        disabled={loading}\n                    >\n                        Cancel\n                    </button>\n                    <button\n                        className=\"button button-primary\"\n                        onClick={handleRebase}\n                        disabled={!selectedBranch || loading}\n                    >\n                        {loading ? 'Rebasing...' : 'Start Rebase'}\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n","import React, { useState } from 'react';\nimport type { CommitNode } from '@git-gui/shared';\nimport { rpcClient } from '../../services/rpcClient';\nimport './CherryPickDialog.css';\n\ninterface CherryPickDialogProps {\n    commits: CommitNode[];\n    onClose: () => void;\n    onSuccess: () => void;\n}\n\nexport const CherryPickDialog: React.FC<CherryPickDialogProps> = ({\n    commits,\n    onClose,\n    onSuccess,\n}) => {\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState<string | null>(null);\n\n    const handleCherryPick = async () => {\n        setLoading(true);\n        setError(null);\n\n        try {\n            const hashes = commits.map((c) => c.hash);\n            await rpcClient.call('git.cherryPick', hashes);\n            onSuccess();\n            onClose();\n        } catch (err) {\n            setError((err as Error).message);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"cherry-pick-dialog-overlay\" onClick={onClose}>\n            <div className=\"cherry-pick-dialog\" onClick={(e) => e.stopPropagation()}>\n                <div className=\"cherry-pick-dialog-header\">\n                    <h3>Cherry-pick Commits</h3>\n                    <button className=\"close-button\" onClick={onClose}>\n                        ×\n                    </button>\n                </div>\n\n                <div className=\"cherry-pick-dialog-content\">\n                    {error && <div className=\"error-message\">{error}</div>}\n\n                    <div className=\"info-message\">\n                        Cherry-pick will apply the following {commits.length} commit\n                        {commits.length !== 1 ? 's' : ''} to the current branch:\n                    </div>\n\n                    <div className=\"commits-list\">\n                        {commits.map((commit) => (\n                            <div key={commit.hash} className=\"commit-item\">\n                                <span className=\"commit-hash\">{commit.shortHash}</span>\n                                <span className=\"commit-message\">{commit.message}</span>\n                                <span className=\"commit-author\">{commit.author}</span>\n                            </div>\n                        ))}\n                    </div>\n\n                    <div className=\"warning-message\">\n                        Note: If conflicts occur, you will need to resolve them manually.\n                    </div>\n                </div>\n\n                <div className=\"cherry-pick-dialog-footer\">\n                    <button\n                        className=\"button button-secondary\"\n                        onClick={onClose}\n                        disabled={loading}\n                    >\n                        Cancel\n                    </button>\n                    <button\n                        className=\"button button-primary\"\n                        onClick={handleCherryPick}\n                        disabled={loading}\n                    >\n                        {loading ? 'Cherry-picking...' : 'Cherry-pick'}\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n","import { useState } from 'react';\nimport type { CommitNode, BranchInfo } from '@git-gui/shared';\nimport { useGitStore } from '../../store/gitStore';\nimport { RevertDialog } from '../Operations/RevertDialog';\nimport { RebaseDialog } from '../Operations/RebaseDialog';\nimport { CherryPickDialog } from '../Operations/CherryPickDialog';\nimport './CommitList.css';\n\ninterface CommitListProps {\n    commits: CommitNode[];\n    branches: BranchInfo[];\n    currentBranch: string;\n    startIndex?: number;\n}\n\nexport function CommitList({ commits, branches, currentBranch }: CommitListProps) {\n    const { selectedCommits, selectCommit } = useGitStore();\n    const [showRevertDialog, setShowRevertDialog] = useState(false);\n    const [showRebaseDialog, setShowRebaseDialog] = useState(false);\n    const [showCherryPickDialog, setShowCherryPickDialog] = useState(false);\n    const [contextMenu, setContextMenu] = useState<{\n        x: number;\n        y: number;\n        commit: CommitNode;\n    } | null>(null);\n\n    const handleCommitClick = (hash: string, event: React.MouseEvent) => {\n        const multi = event.ctrlKey || event.metaKey;\n        selectCommit(hash, multi);\n    };\n\n    const handleContextMenu = (event: React.MouseEvent, commit: CommitNode) => {\n        event.preventDefault();\n        setContextMenu({ x: event.clientX, y: event.clientY, commit });\n    };\n\n    const handleRevert = () => {\n        setShowRevertDialog(true);\n        setContextMenu(null);\n    };\n\n    const handleRebase = () => {\n        setShowRebaseDialog(true);\n        setContextMenu(null);\n    };\n\n    const handleCherryPick = () => {\n        setShowCherryPickDialog(true);\n        setContextMenu(null);\n    };\n\n    const formatDate = (date: Date) => {\n        const d = new Date(date);\n        const now = new Date();\n        const diff = now.getTime() - d.getTime();\n        const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n\n        if (days === 0) {\n            const hours = Math.floor(diff / (1000 * 60 * 60));\n            if (hours === 0) {\n                const minutes = Math.floor(diff / (1000 * 60));\n                return `${minutes} minute${minutes !== 1 ? 's' : ''} ago`;\n            }\n            return `${hours} hour${hours !== 1 ? 's' : ''} ago`;\n        } else if (days === 1) {\n            return 'yesterday';\n        } else if (days < 7) {\n            return `${days} days ago`;\n        } else {\n            return d.toLocaleDateString();\n        }\n    };\n\n    const getSelectedCommitObjects = () => {\n        return commits.filter((c) => selectedCommits.includes(c.hash));\n    };\n\n    if (commits.length === 0) {\n        return <div className=\"commit-list-empty\">No commits yet</div>;\n    }\n\n    return (\n        <>\n            <div className=\"commit-list\" onClick={() => setContextMenu(null)}>\n                {commits.map((commit) => (\n                    <div\n                        key={commit.hash}\n                        className={`commit-item ${selectedCommits.includes(commit.hash) ? 'selected' : ''} ${commit.isHead ? 'head' : ''}`}\n                        onClick={(e) => handleCommitClick(commit.hash, e)}\n                        onContextMenu={(e) => handleContextMenu(e, commit)}\n                    >\n                        <div className=\"commit-graph\">\n                            <div className=\"commit-dot\"></div>\n                            <div className=\"commit-line\"></div>\n                        </div>\n                        <div className=\"commit-content\">\n                            <div className=\"commit-message\">{commit.message}</div>\n                            <div className=\"commit-meta\">\n                                <span className=\"commit-author\">{commit.author}</span>\n                                <span className=\"commit-separator\">•</span>\n                                <span className=\"commit-hash\">{commit.shortHash}</span>\n                                <span className=\"commit-separator\">•</span>\n                                <span className=\"commit-date\">{formatDate(commit.date)}</span>\n                            </div>\n                            {commit.refs.length > 0 && (\n                                <div className=\"commit-refs\">\n                                    {commit.refs.map((ref) => (\n                                        <span key={ref} className=\"commit-ref\">\n                                            {ref}\n                                        </span>\n                                    ))}\n                                </div>\n                            )}\n                        </div>\n                    </div>\n                ))}\n            </div>\n\n            {contextMenu && (\n                <div\n                    className=\"commit-context-menu\"\n                    style={{ top: contextMenu.y, left: contextMenu.x }}\n                    onClick={(e) => e.stopPropagation()}\n                >\n                    <div className=\"commit-context-menu-item\" onClick={handleCherryPick}>\n                        Cherry-pick Commit{selectedCommits.length > 1 ? 's' : ''}\n                    </div>\n                    <div className=\"commit-context-menu-item\" onClick={handleRevert}>\n                        Revert Commit{selectedCommits.length > 1 ? 's' : ''}\n                    </div>\n                    <div className=\"commit-context-menu-item\" onClick={handleRebase}>\n                        Rebase onto this Commit\n                    </div>\n                </div>\n            )}\n\n            {showRevertDialog && (\n                <RevertDialog\n                    commits={getSelectedCommitObjects()}\n                    onClose={() => setShowRevertDialog(false)}\n                />\n            )}\n\n            {showRebaseDialog && (\n                <RebaseDialog\n                    currentBranch={currentBranch}\n                    branches={branches}\n                    onClose={() => setShowRebaseDialog(false)}\n                    onSuccess={() => {\n                        setShowRebaseDialog(false);\n                    }}\n                />\n            )}\n\n            {showCherryPickDialog && (\n                <CherryPickDialog\n                    commits={getSelectedCommitObjects()}\n                    onClose={() => setShowCherryPickDialog(false)}\n                    onSuccess={() => {\n                        setShowCherryPickDialog(false);\n                    }}\n                />\n            )}\n        </>\n    );\n}\n","import type { CommitNode, GraphNode, GraphEdge, Point } from '@git-gui/shared';\n\ninterface LayoutResult {\n    nodes: Map<string, GraphNode>;\n    edges: GraphEdge[];\n    lanes: number;\n    height: number;\n}\n\ninterface CacheEntry {\n    result: LayoutResult;\n    timestamp: number;\n    accessCount: number;\n}\n\n/**\n * 图形布局引擎\n * 计算 commit 图的布局，包括节点位置和连接线路径\n */\nexport class GraphLayoutEngine {\n    private readonly ROW_HEIGHT = 50; // 每行高度\n    private readonly COLUMN_WIDTH = 30; // 每列宽度\n    private readonly NODE_RADIUS = 5; // 节点半径\n    private readonly MAX_CACHE_SIZE = 50; // 最大缓存条目数\n    private readonly CACHE_TTL = 60000; // 缓存过期时间 (60秒)\n\n    private layoutCache = new Map<string, CacheEntry>();\n\n    private colors = [\n        '#4285F4', // Blue\n        '#EA4335', // Red\n        '#FBBC04', // Yellow\n        '#34A853', // Green\n        '#FF6D00', // Orange\n        '#9C27B0', // Purple\n        '#00BCD4', // Cyan\n        '#E91E63', // Pink\n    ];\n\n    /**\n     * 计算完整的图形布局（带缓存）\n     */\n    calculateLayout(commits: CommitNode[]): LayoutResult {\n        if (commits.length === 0) {\n            return { nodes: new Map(), edges: [], lanes: 0, height: 0 };\n        }\n\n        // 生成缓存键\n        const cacheKey = this.getCacheKey(commits);\n\n        // 检查缓存\n        const cached = this.layoutCache.get(cacheKey);\n        if (cached && Date.now() - cached.timestamp < this.CACHE_TTL) {\n            cached.accessCount++;\n            return cached.result;\n        }\n\n        // 计算布局\n        const result = this.calculateLayoutInternal(commits);\n\n        // 缓存结果\n        this.cacheResult(cacheKey, result);\n\n        return result;\n    }\n\n    /**\n     * 内部布局计算（无缓存）\n     */\n    private calculateLayoutInternal(commits: CommitNode[]): LayoutResult {\n        // 构建父子关系图\n        const childrenMap = this.buildChildrenMap(commits);\n\n        // 分配泳道\n        const laneAssignments = this.assignLanes(commits, childrenMap);\n\n        // 计算节点位置\n        const nodes = this.calculateNodePositions(commits, laneAssignments);\n\n        // 计算连接线\n        const edges = this.calculateEdges(commits, nodes);\n\n        // 计算总泳道数和高度\n        const lanes = Math.max(...Array.from(laneAssignments.values())) + 1;\n        const height = commits.length * this.ROW_HEIGHT;\n\n        return { nodes, edges, lanes, height };\n    }\n\n    /**\n     * 生成缓存键\n     */\n    private getCacheKey(commits: CommitNode[]): string {\n        // 使用前10个和后10个commit的hash生成键\n        // 这样可以快速识别相同的commit列表，同时避免处理整个列表\n        const start = commits.slice(0, Math.min(10, commits.length));\n        const end = commits.slice(Math.max(0, commits.length - 10));\n        const hashes = [...start, ...end].map((c) => c.hash);\n        return `${commits.length}:${hashes.join(',')}`;\n    }\n\n    /**\n     * 缓存结果（带LRU淘汰）\n     */\n    private cacheResult(key: string, result: LayoutResult): void {\n        // 如果缓存已满，使用LRU淘汰\n        if (this.layoutCache.size >= this.MAX_CACHE_SIZE) {\n            this.evictLRU();\n        }\n\n        this.layoutCache.set(key, {\n            result,\n            timestamp: Date.now(),\n            accessCount: 1,\n        });\n    }\n\n    /**\n     * LRU淘汰策略\n     */\n    private evictLRU(): void {\n        let oldestKey: string | null = null;\n        let oldestScore = Infinity;\n\n        // 计算每个条目的分数（时间戳 / 访问次数）\n        // 分数越低，越应该被淘汰\n        for (const [key, entry] of this.layoutCache.entries()) {\n            const score = entry.timestamp / Math.max(1, entry.accessCount);\n            if (score < oldestScore) {\n                oldestScore = score;\n                oldestKey = key;\n            }\n        }\n\n        if (oldestKey) {\n            this.layoutCache.delete(oldestKey);\n        }\n    }\n\n    /**\n     * 清除缓存\n     */\n    clearCache(): void {\n        this.layoutCache.clear();\n    }\n\n    /**\n     * 获取缓存统计\n     */\n    getCacheStats(): { size: number; maxSize: number; hitRate: number } {\n        let totalAccess = 0;\n        let totalHits = 0;\n\n        for (const entry of this.layoutCache.values()) {\n            totalAccess += entry.accessCount;\n            if (entry.accessCount > 1) {\n                totalHits += entry.accessCount - 1;\n            }\n        }\n\n        return {\n            size: this.layoutCache.size,\n            maxSize: this.MAX_CACHE_SIZE,\n            hitRate: totalAccess > 0 ? totalHits / totalAccess : 0,\n        };\n    }\n\n    /**\n     * 构建父子关系映射 (O(n) 优化版本)\n     */\n    private buildChildrenMap(commits: CommitNode[]): Map<string, CommitNode[]> {\n        const childrenMap = new Map<string, CommitNode[]>();\n\n        // 单次遍历，O(n * p) 其中 p 是平均父节点数（通常为1-2）\n        for (const commit of commits) {\n            for (const parent of commit.parents) {\n                let children = childrenMap.get(parent);\n                if (!children) {\n                    children = [];\n                    childrenMap.set(parent, children);\n                }\n                children.push(commit);\n            }\n        }\n\n        return childrenMap;\n    }\n\n    /**\n     * 为每个 commit 分配泳道 (优化版本)\n     * 使用贪心算法，尽量复用泳道，避免 O(n²) 复杂度\n     */\n    private assignLanes(\n        commits: CommitNode[],\n        childrenMap: Map<string, CommitNode[]>\n    ): Map<string, number> {\n        const laneAssignments = new Map<string, number>();\n        const activeLanes = new Map<number, string>(); // lane -> commit hash\n        const commitIndex = new Map<string, number>(); // commit hash -> index\n        \n        // 预先构建索引，O(n)\n        commits.forEach((commit, index) => {\n            commitIndex.set(commit.hash, index);\n        });\n\n        for (let i = 0; i < commits.length; i++) {\n            const commit = commits[i];\n\n            // 尝试复用父节点的泳道\n            let assignedLane: number | null = null;\n\n            if (commit.parents.length > 0) {\n                const firstParent = commit.parents[0];\n                const parentLane = laneAssignments.get(firstParent);\n\n                if (parentLane !== undefined && !activeLanes.has(parentLane)) {\n                    assignedLane = parentLane;\n                }\n            }\n\n            // 如果无法复用，分配新泳道\n            if (assignedLane === null) {\n                // 查找第一个空闲的泳道，O(lanes) 通常很小\n                assignedLane = 0;\n                while (activeLanes.has(assignedLane)) {\n                    assignedLane++;\n                }\n            }\n\n            laneAssignments.set(commit.hash, assignedLane);\n            activeLanes.set(assignedLane, commit.hash);\n\n            // 清理不再活跃的泳道 (优化版本)\n            // 检查当前 commit 的所有子节点是否都已处理\n            const children = childrenMap.get(commit.hash);\n            if (children) {\n                const allChildrenProcessed = children.every((child) => {\n                    const childIdx = commitIndex.get(child.hash);\n                    return childIdx !== undefined && childIdx <= i;\n                });\n\n                if (allChildrenProcessed) {\n                    const laneCommit = activeLanes.get(assignedLane);\n                    if (laneCommit === commit.hash) {\n                        activeLanes.delete(assignedLane);\n                    }\n                }\n            } else {\n                // 没有子节点，立即释放泳道\n                const laneCommit = activeLanes.get(assignedLane);\n                if (laneCommit === commit.hash) {\n                    activeLanes.delete(assignedLane);\n                }\n            }\n        }\n\n        return laneAssignments;\n    }\n\n    /**\n     * 计算节点位置\n     */\n    private calculateNodePositions(\n        commits: CommitNode[],\n        laneAssignments: Map<string, number>\n    ): Map<string, GraphNode> {\n        const nodes = new Map<string, GraphNode>();\n\n        commits.forEach((commit, index) => {\n            const lane = laneAssignments.get(commit.hash) || 0;\n            const color = this.colors[lane % this.colors.length];\n\n            nodes.set(commit.hash, {\n                commit,\n                x: lane * this.COLUMN_WIDTH + this.COLUMN_WIDTH / 2,\n                y: index * this.ROW_HEIGHT + this.ROW_HEIGHT / 2,\n                color,\n                lane,\n            });\n        });\n\n        return nodes;\n    }\n\n    /**\n     * 计算连接线路径\n     */\n    private calculateEdges(commits: CommitNode[], nodes: Map<string, GraphNode>): GraphEdge[] {\n        const edges: GraphEdge[] = [];\n\n        for (const commit of commits) {\n            const fromNode = nodes.get(commit.hash);\n            if (!fromNode) {\n                continue;\n            }\n\n            for (const parentHash of commit.parents) {\n                const toNode = nodes.get(parentHash);\n                if (!toNode) {\n                    continue;\n                }\n\n                // 计算路径\n                const path = this.calculateEdgePath(fromNode, toNode);\n\n                edges.push({\n                    from: commit.hash,\n                    to: parentHash,\n                    path,\n                    color: fromNode.color,\n                });\n            }\n        }\n\n        return edges;\n    }\n\n    /**\n     * 计算两个节点之间的连接线路径\n     */\n    private calculateEdgePath(from: GraphNode, to: GraphNode): Point[] {\n        const path: Point[] = [];\n\n        // 起点\n        path.push({ x: from.x, y: from.y });\n\n        // 如果在同一列，直接连接\n        if (from.x === to.x) {\n            path.push({ x: to.x, y: to.y });\n            return path;\n        }\n\n        // 如果在不同列，使用贝塞尔曲线\n        const midY = (from.y + to.y) / 2;\n\n        // 添加控制点以创建平滑曲线\n        path.push({ x: from.x, y: midY });\n        path.push({ x: to.x, y: midY });\n        path.push({ x: to.x, y: to.y });\n\n        return path;\n    }\n\n    /**\n     * 获取节点颜色\n     */\n    getColor(lane: number): string {\n        return this.colors[lane % this.colors.length];\n    }\n\n    /**\n     * 获取布局配置\n     */\n    getConfig() {\n        return {\n            rowHeight: this.ROW_HEIGHT,\n            columnWidth: this.COLUMN_WIDTH,\n            nodeRadius: this.NODE_RADIUS,\n            colors: this.colors,\n        };\n    }\n}\n\nexport const graphLayoutEngine = new GraphLayoutEngine();\n","import type { GraphNode, GraphEdge } from '@git-gui/shared';\n\n/**\n * Canvas 渲染器\n * 负责在 Canvas 上绘制 commit 图\n */\nexport class CanvasRenderer {\n    private ctx: CanvasRenderingContext2D;\n    private scale: number = 1;\n    private offsetX: number = 0;\n    private offsetY: number = 0;\n\n    constructor(private canvas: HTMLCanvasElement) {\n        const ctx = canvas.getContext('2d');\n        if (!ctx) {\n            throw new Error('Failed to get 2D context');\n        }\n        this.ctx = ctx;\n        this.setupCanvas();\n    }\n\n    /**\n     * 设置 Canvas\n     */\n    private setupCanvas(): void {\n        const dpr = window.devicePixelRatio || 1;\n        const rect = this.canvas.getBoundingClientRect();\n\n        this.canvas.width = rect.width * dpr;\n        this.canvas.height = rect.height * dpr;\n\n        this.ctx.scale(dpr, dpr);\n        this.canvas.style.width = `${rect.width}px`;\n        this.canvas.style.height = `${rect.height}px`;\n    }\n\n    /**\n     * 清空画布\n     */\n    clear(): void {\n        const rect = this.canvas.getBoundingClientRect();\n        this.ctx.clearRect(0, 0, rect.width, rect.height);\n    }\n\n    /**\n     * 渲染完整的图形\n     */\n    render(\n        nodes: Map<string, GraphNode>,\n        edges: GraphEdge[],\n        selectedHashes: Set<string> = new Set(),\n        hoveredHash: string | null = null\n    ): void {\n        this.clear();\n\n        // 应用变换\n        this.ctx.save();\n        this.ctx.translate(this.offsetX, this.offsetY);\n        this.ctx.scale(this.scale, this.scale);\n\n        // 先绘制边\n        for (const edge of edges) {\n            this.drawEdge(edge);\n        }\n\n        // 再绘制节点\n        for (const node of nodes.values()) {\n            const isSelected = selectedHashes.has(node.commit.hash);\n            const isHovered = node.commit.hash === hoveredHash;\n            this.drawNode(node, isSelected, isHovered);\n        }\n\n        this.ctx.restore();\n    }\n\n    /**\n     * 绘制连接线\n     */\n    private drawEdge(edge: GraphEdge): void {\n        if (edge.path.length < 2) {\n            return;\n        }\n\n        this.ctx.beginPath();\n        this.ctx.strokeStyle = edge.color;\n        this.ctx.lineWidth = 2;\n        this.ctx.lineCap = 'round';\n        this.ctx.lineJoin = 'round';\n\n        // 移动到起点\n        this.ctx.moveTo(edge.path[0].x, edge.path[0].y);\n\n        // 如果只有两个点，直接连线\n        if (edge.path.length === 2) {\n            this.ctx.lineTo(edge.path[1].x, edge.path[1].y);\n        } else {\n            // 使用贝塞尔曲线绘制平滑路径\n            for (let i = 1; i < edge.path.length - 2; i += 2) {\n                const cp1 = edge.path[i];\n                const cp2 = edge.path[i + 1];\n                const end = edge.path[i + 2] || edge.path[edge.path.length - 1];\n\n                this.ctx.bezierCurveTo(cp1.x, cp1.y, cp2.x, cp2.y, end.x, end.y);\n            }\n        }\n\n        this.ctx.stroke();\n    }\n\n    /**\n     * 绘制节点\n     */\n    private drawNode(node: GraphNode, isSelected: boolean, isHovered: boolean): void {\n        const radius = 5;\n\n        // 绘制节点圆圈\n        this.ctx.beginPath();\n        this.ctx.arc(node.x, node.y, radius, 0, Math.PI * 2);\n        this.ctx.fillStyle = node.color;\n        this.ctx.fill();\n\n        // 如果是 HEAD，绘制外圈\n        if (node.commit.isHead) {\n            this.ctx.beginPath();\n            this.ctx.arc(node.x, node.y, radius + 3, 0, Math.PI * 2);\n            this.ctx.strokeStyle = node.color;\n            this.ctx.lineWidth = 2;\n            this.ctx.stroke();\n        }\n\n        // 如果被选中，绘制高亮圈\n        if (isSelected) {\n            this.ctx.beginPath();\n            this.ctx.arc(node.x, node.y, radius + 5, 0, Math.PI * 2);\n            this.ctx.strokeStyle = '#FFD700'; // Gold\n            this.ctx.lineWidth = 2;\n            this.ctx.stroke();\n        }\n\n        // 如果被悬停，绘制悬停效果\n        if (isHovered) {\n            this.ctx.beginPath();\n            this.ctx.arc(node.x, node.y, radius + 7, 0, Math.PI * 2);\n            this.ctx.strokeStyle = 'rgba(255, 255, 255, 0.5)';\n            this.ctx.lineWidth = 2;\n            this.ctx.stroke();\n        }\n\n        // 绘制 refs 标签\n        if (node.commit.refs.length > 0) {\n            this.drawRefs(node);\n        }\n    }\n\n    /**\n     * 绘制 refs 标签\n     */\n    private drawRefs(node: GraphNode): void {\n        const refs = node.commit.refs;\n        let offsetX = node.x + 15;\n        const y = node.y;\n\n        for (const ref of refs) {\n            // 确定标签颜色\n            let bgColor = '#666';\n            let textColor = '#fff';\n\n            if (ref.includes('HEAD')) {\n                bgColor = '#4285F4';\n            } else if (ref.startsWith('tag:')) {\n                bgColor = '#FBBC04';\n                textColor = '#000';\n            } else if (ref.includes('origin/')) {\n                bgColor = '#EA4335';\n            }\n\n            // 绘制标签背景\n            const text = ref.replace('tag: ', '');\n            this.ctx.font = '11px sans-serif';\n            const metrics = this.ctx.measureText(text);\n            const padding = 4;\n            const width = metrics.width + padding * 2;\n            const height = 16;\n\n            this.ctx.fillStyle = bgColor;\n            this.ctx.fillRect(offsetX, y - height / 2, width, height);\n\n            // 绘制标签文本\n            this.ctx.fillStyle = textColor;\n            this.ctx.textAlign = 'left';\n            this.ctx.textBaseline = 'middle';\n            this.ctx.fillText(text, offsetX + padding, y);\n\n            offsetX += width + 5;\n        }\n    }\n\n    /**\n     * 设置缩放\n     */\n    setScale(scale: number): void {\n        this.scale = Math.max(0.5, Math.min(2, scale));\n    }\n\n    /**\n     * 设置偏移\n     */\n    setOffset(x: number, y: number): void {\n        this.offsetX = x;\n        this.offsetY = y;\n    }\n\n    /**\n     * 获取鼠标位置对应的节点\n     */\n    getNodeAtPosition(x: number, y: number, nodes: Map<string, GraphNode>): GraphNode | null {\n        // 转换坐标\n        const transformedX = (x - this.offsetX) / this.scale;\n        const transformedY = (y - this.offsetY) / this.scale;\n\n        const radius = 5;\n\n        for (const node of nodes.values()) {\n            const dx = transformedX - node.x;\n            const dy = transformedY - node.y;\n            const distance = Math.sqrt(dx * dx + dy * dy);\n\n            if (distance <= radius + 5) {\n                return node;\n            }\n        }\n\n        return null;\n    }\n\n    /**\n     * 调整 Canvas 大小\n     */\n    resize(): void {\n        this.setupCanvas();\n    }\n\n    /**\n     * 销毁渲染器\n     */\n    destroy(): void {\n        // 清理资源\n        this.clear();\n    }\n}\n","import React, { useEffect, useRef, useState } from 'react';\nimport type { CommitNode, GraphNode, GraphEdge } from '@git-gui/shared';\nimport { graphLayoutEngine } from '../../services/GraphLayoutEngine';\nimport { CanvasRenderer } from '../../utils/CanvasRenderer';\nimport './CommitGraph.css';\n\ninterface CommitGraphProps {\n    commits: CommitNode[];\n    selectedHashes: string[];\n    onCommitClick: (hash: string, multi: boolean) => void;\n    onCommitDoubleClick: (hash: string) => void;\n}\n\nexport const CommitGraph: React.FC<CommitGraphProps> = ({\n    commits,\n    selectedHashes,\n    onCommitClick,\n    onCommitDoubleClick,\n}) => {\n    const canvasRef = useRef<HTMLCanvasElement>(null);\n    const rendererRef = useRef<CanvasRenderer | null>(null);\n    const [hoveredHash, setHoveredHash] = useState<string | null>(null);\n    const [layout, setLayout] = useState<{\n        nodes: Map<string, GraphNode>;\n        edges: GraphEdge[];\n        lanes: number;\n        height: number;\n    } | null>(null);\n\n    // 计算布局\n    useEffect(() => {\n        if (commits.length === 0) {\n            setLayout(null);\n            return;\n        }\n\n        const newLayout = graphLayoutEngine.calculateLayout(commits);\n        setLayout(newLayout);\n    }, [commits]);\n\n    // 初始化渲染器\n    useEffect(() => {\n        if (!canvasRef.current) {\n            return;\n        }\n\n        rendererRef.current = new CanvasRenderer(canvasRef.current);\n\n        const handleResize = () => {\n            rendererRef.current?.resize();\n            renderGraph();\n        };\n\n        window.addEventListener('resize', handleResize);\n\n        return () => {\n            window.removeEventListener('resize', handleResize);\n            rendererRef.current?.destroy();\n        };\n    }, []);\n\n    // 渲染图形\n    const renderGraph = () => {\n        if (!layout || !rendererRef.current) {\n            return;\n        }\n\n        const selectedSet = new Set(selectedHashes);\n        rendererRef.current.render(layout.nodes, layout.edges, selectedSet, hoveredHash);\n    };\n\n    // 当布局或选中状态改变时重新渲染\n    useEffect(() => {\n        renderGraph();\n    }, [layout, selectedHashes, hoveredHash]);\n\n    // 处理鼠标移动\n    const handleMouseMove = (e: React.MouseEvent<HTMLCanvasElement>) => {\n        if (!layout || !rendererRef.current) {\n            return;\n        }\n\n        const rect = canvasRef.current!.getBoundingClientRect();\n        const x = e.clientX - rect.left;\n        const y = e.clientY - rect.top;\n\n        const node = rendererRef.current.getNodeAtPosition(x, y, layout.nodes);\n        setHoveredHash(node ? node.commit.hash : null);\n\n        // 更新鼠标样式\n        canvasRef.current!.style.cursor = node ? 'pointer' : 'default';\n    };\n\n    // 处理鼠标离开\n    const handleMouseLeave = () => {\n        setHoveredHash(null);\n        if (canvasRef.current) {\n            canvasRef.current.style.cursor = 'default';\n        }\n    };\n\n    // 处理点击\n    const handleClick = (e: React.MouseEvent<HTMLCanvasElement>) => {\n        if (!layout || !rendererRef.current) {\n            return;\n        }\n\n        const rect = canvasRef.current!.getBoundingClientRect();\n        const x = e.clientX - rect.left;\n        const y = e.clientY - rect.top;\n\n        const node = rendererRef.current.getNodeAtPosition(x, y, layout.nodes);\n        if (node) {\n            onCommitClick(node.commit.hash, e.ctrlKey || e.metaKey);\n        }\n    };\n\n    // 处理双击\n    const handleDoubleClick = (e: React.MouseEvent<HTMLCanvasElement>) => {\n        if (!layout || !rendererRef.current) {\n            return;\n        }\n\n        const rect = canvasRef.current!.getBoundingClientRect();\n        const x = e.clientX - rect.left;\n        const y = e.clientY - rect.top;\n\n        const node = rendererRef.current.getNodeAtPosition(x, y, layout.nodes);\n        if (node) {\n            onCommitDoubleClick(node.commit.hash);\n        }\n    };\n\n    const config = graphLayoutEngine.getConfig();\n    const width = layout ? (layout.lanes + 1) * config.columnWidth : 100;\n\n    return (\n        <div className=\"commit-graph\">\n            <canvas\n                ref={canvasRef}\n                className=\"commit-graph-canvas\"\n                style={{ width: `${width}px` }}\n                onMouseMove={handleMouseMove}\n                onMouseLeave={handleMouseLeave}\n                onClick={handleClick}\n                onDoubleClick={handleDoubleClick}\n            />\n        </div>\n    );\n};\n","import React, { useEffect, useState } from 'react';\nimport type { CommitNode } from '@git-gui/shared';\nimport { rpcClient } from '../../services/rpcClient';\nimport './CommitDetails.css';\n\ninterface CommitDetailsProps {\n    commit: CommitNode | null;\n    onClose: () => void;\n}\n\ninterface CommitStats {\n    files: number;\n    insertions: number;\n    deletions: number;\n}\n\nexport const CommitDetails: React.FC<CommitDetailsProps> = ({ commit, onClose }) => {\n    const [files, setFiles] = useState<string[]>([]);\n    const [stats, setStats] = useState<CommitStats | null>(null);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        if (!commit) {\n            setFiles([]);\n            setStats(null);\n            return;\n        }\n\n        const loadDetails = async () => {\n            setLoading(true);\n            try {\n                const [commitFiles, commitStats] = await Promise.all([\n                    rpcClient.call('git.getCommitFiles', commit.hash),\n                    rpcClient.call('git.getCommitStats', commit.hash),\n                ]);\n                setFiles(commitFiles);\n                setStats(commitStats);\n            } catch (error) {\n                console.error('Failed to load commit details:', error);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        loadDetails();\n    }, [commit]);\n\n    if (!commit) {\n        return (\n            <div className=\"commit-details empty\">\n                <p>Select a commit to view details</p>\n            </div>\n        );\n    }\n\n    const formatDate = (date: Date) => {\n        return new Date(date).toLocaleString();\n    };\n\n    return (\n        <div className=\"commit-details\">\n            <div className=\"commit-details-header\">\n                <h3>Commit Details</h3>\n                <button className=\"close-button\" onClick={onClose} title=\"Close\">\n                    ×\n                </button>\n            </div>\n\n            <div className=\"commit-details-content\">\n                {/* Commit Info */}\n                <div className=\"detail-section\">\n                    <div className=\"detail-row\">\n                        <span className=\"detail-label\">Hash:</span>\n                        <span className=\"detail-value monospace\">{commit.hash}</span>\n                    </div>\n                    <div className=\"detail-row\">\n                        <span className=\"detail-label\">Author:</span>\n                        <span className=\"detail-value\">{commit.author}</span>\n                    </div>\n                    <div className=\"detail-row\">\n                        <span className=\"detail-label\">Email:</span>\n                        <span className=\"detail-value\">{commit.email}</span>\n                    </div>\n                    <div className=\"detail-row\">\n                        <span className=\"detail-label\">Date:</span>\n                        <span className=\"detail-value\">{formatDate(commit.date)}</span>\n                    </div>\n                    {commit.refs.length > 0 && (\n                        <div className=\"detail-row\">\n                            <span className=\"detail-label\">Refs:</span>\n                            <div className=\"refs-list\">\n                                {commit.refs.map((ref, index) => (\n                                    <span key={index} className=\"ref-tag\">\n                                        {ref}\n                                    </span>\n                                ))}\n                            </div>\n                        </div>\n                    )}\n                </div>\n\n                {/* Message */}\n                <div className=\"detail-section\">\n                    <h4>Message</h4>\n                    <div className=\"commit-message\">{commit.message}</div>\n                </div>\n\n                {/* Stats */}\n                {stats && (\n                    <div className=\"detail-section\">\n                        <h4>Changes</h4>\n                        <div className=\"commit-stats\">\n                            <span className=\"stat-item\">\n                                <span className=\"stat-label\">Files:</span>\n                                <span className=\"stat-value\">{stats.files}</span>\n                            </span>\n                            <span className=\"stat-item stat-additions\">\n                                <span className=\"stat-label\">+</span>\n                                <span className=\"stat-value\">{stats.insertions}</span>\n                            </span>\n                            <span className=\"stat-item stat-deletions\">\n                                <span className=\"stat-label\">-</span>\n                                <span className=\"stat-value\">{stats.deletions}</span>\n                            </span>\n                        </div>\n                    </div>\n                )}\n\n                {/* Files */}\n                <div className=\"detail-section\">\n                    <h4>Files Changed ({files.length})</h4>\n                    {loading ? (\n                        <div className=\"loading\">Loading files...</div>\n                    ) : (\n                        <div className=\"files-list\">\n                            {files.map((file, index) => (\n                                <div key={index} className=\"file-item\">\n                                    {file}\n                                </div>\n                            ))}\n                        </div>\n                    )}\n                </div>\n\n                {/* Parents */}\n                {commit.parents.length > 0 && (\n                    <div className=\"detail-section\">\n                        <h4>Parents</h4>\n                        <div className=\"parents-list\">\n                            {commit.parents.map((parent, index) => (\n                                <div key={index} className=\"parent-item monospace\">\n                                    {parent.substring(0, 7)}\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n","import React, { useState, useCallback } from 'react';\nimport './SearchBar.css';\n\ninterface SearchBarProps {\n    onSearch: (query: string, type: 'message' | 'author' | 'hash') => void;\n    onClear: () => void;\n}\n\nexport const SearchBar: React.FC<SearchBarProps> = ({ onSearch, onClear }) => {\n    const [query, setQuery] = useState('');\n    const [searchType, setSearchType] = useState<'message' | 'author' | 'hash'>('message');\n\n    const handleSearch = useCallback(() => {\n        if (query.trim()) {\n            onSearch(query.trim(), searchType);\n        }\n    }, [query, searchType, onSearch]);\n\n    const handleClear = useCallback(() => {\n        setQuery('');\n        onClear();\n    }, [onClear]);\n\n    const handleKeyDown = (e: React.KeyboardEvent) => {\n        if (e.key === 'Enter') {\n            handleSearch();\n        } else if (e.key === 'Escape') {\n            handleClear();\n        }\n    };\n\n    return (\n        <div className=\"search-bar\">\n            <div className=\"search-input-group\">\n                <input\n                    type=\"text\"\n                    className=\"search-input\"\n                    placeholder={`Search by ${searchType}...`}\n                    value={query}\n                    onChange={(e) => setQuery(e.target.value)}\n                    onKeyDown={handleKeyDown}\n                />\n                {query && (\n                    <button className=\"clear-button\" onClick={handleClear} title=\"Clear search\">\n                        ×\n                    </button>\n                )}\n            </div>\n\n            <select\n                className=\"search-type-select\"\n                value={searchType}\n                onChange={(e) => setSearchType(e.target.value as any)}\n            >\n                <option value=\"message\">Message</option>\n                <option value=\"author\">Author</option>\n                <option value=\"hash\">Hash</option>\n            </select>\n\n            <button className=\"search-button\" onClick={handleSearch} disabled={!query.trim()}>\n                Search\n            </button>\n        </div>\n    );\n};\n","import React, { useRef, useEffect, useState, useCallback } from 'react';\nimport './VirtualScroll.css';\n\ninterface VirtualScrollProps {\n    itemCount: number;\n    itemHeight: number;\n    height: number;\n    overscan?: number;\n    children: (startIndex: number, endIndex: number) => React.ReactNode;\n    onLoadMore?: () => void;\n    hasMore?: boolean;\n}\n\n/**\n * 虚拟滚动组件\n * 只渲染可见区域的元素，提高大列表性能\n */\nexport const VirtualScroll: React.FC<VirtualScrollProps> = ({\n    itemCount,\n    itemHeight,\n    height,\n    overscan = 5,\n    children,\n    onLoadMore,\n    hasMore = false,\n}) => {\n    const containerRef = useRef<HTMLDivElement>(null);\n    const [scrollTop, setScrollTop] = useState(0);\n\n    // 计算可见范围\n    const visibleStart = Math.floor(scrollTop / itemHeight);\n    const visibleEnd = Math.ceil((scrollTop + height) / itemHeight);\n\n    // 添加 overscan 以提供平滑滚动\n    const startIndex = Math.max(0, visibleStart - overscan);\n    const endIndex = Math.min(itemCount, visibleEnd + overscan);\n\n    // 总高度\n    const totalHeight = itemCount * itemHeight;\n\n    // 偏移量\n    const offsetY = startIndex * itemHeight;\n\n    // 处理滚动\n    const handleScroll = useCallback(\n        (e: React.UIEvent<HTMLDivElement>) => {\n            const target = e.currentTarget;\n            setScrollTop(target.scrollTop);\n\n            // 检查是否需要加载更多\n            if (onLoadMore && hasMore) {\n                const scrollBottom = target.scrollTop + target.clientHeight;\n                const threshold = totalHeight - itemHeight * 10; // 距离底部10个元素时加载\n\n                if (scrollBottom >= threshold) {\n                    onLoadMore();\n                }\n            }\n        },\n        [onLoadMore, hasMore, totalHeight, itemHeight]\n    );\n\n    // 滚动到指定索引\n    const scrollToIndex = useCallback(\n        (index: number, behavior: ScrollBehavior = 'smooth') => {\n            if (containerRef.current) {\n                const scrollTop = index * itemHeight;\n                containerRef.current.scrollTo({\n                    top: scrollTop,\n                    behavior,\n                });\n            }\n        },\n        [itemHeight]\n    );\n\n    // 暴露 scrollToIndex 方法\n    useEffect(() => {\n        if (containerRef.current) {\n            (containerRef.current as any).scrollToIndex = scrollToIndex;\n        }\n    }, [scrollToIndex]);\n\n    return (\n        <div\n            ref={containerRef}\n            className=\"virtual-scroll-container\"\n            style={{ height: `${height}px`, overflow: 'auto' }}\n            onScroll={handleScroll}\n        >\n            <div className=\"virtual-scroll-spacer\" style={{ height: `${totalHeight}px` }}>\n                <div\n                    className=\"virtual-scroll-content\"\n                    style={{ transform: `translateY(${offsetY}px)` }}\n                >\n                    {children(startIndex, endIndex)}\n                </div>\n            </div>\n        </div>\n    );\n};\n","import { useEffect, useState } from 'react';\nimport { useGitStore } from '../../store/gitStore';\nimport { CommitList } from './CommitList';\nimport { CommitGraph } from './CommitGraph';\nimport { CommitDetails } from './CommitDetails';\nimport { SearchBar } from './SearchBar';\nimport { VirtualScroll } from './VirtualScroll';\nimport type { CommitNode } from '@git-gui/shared';\nimport './HistoryPanel.css';\n\nexport function HistoryPanel() {\n    const {\n        commits,\n        branches,\n        status,\n        loading,\n        selectedCommits,\n        hasMore,\n        searchQuery,\n        fetchHistory,\n        fetchBranches,\n        selectCommit,\n        searchCommits,\n        clearSearch,\n        loadMore,\n    } = useGitStore();\n\n    const [selectedCommit, setSelectedCommit] = useState<CommitNode | null>(null);\n    const [showDetails, setShowDetails] = useState(false);\n\n    // 加载历史记录\n    useEffect(() => {\n        fetchHistory({ maxCount: 100 });\n        fetchBranches();\n    }, [fetchHistory, fetchBranches]);\n\n    const handleCommitClick = (hash: string, multi: boolean) => {\n        selectCommit(hash, multi);\n\n        // 单选时更新详情面板\n        if (!multi) {\n            const commit = commits.find((c) => c.hash === hash);\n            if (commit) {\n                setSelectedCommit(commit);\n                setShowDetails(true);\n            }\n        }\n    };\n\n    const handleCommitDoubleClick = (hash: string) => {\n        const commit = commits.find((c) => c.hash === hash);\n        if (commit) {\n            setSelectedCommit(commit);\n            setShowDetails(true);\n        }\n    };\n\n    const handleSearch = (query: string, type: 'message' | 'author' | 'hash') => {\n        searchCommits(query, type);\n    };\n\n    const handleClearSearch = () => {\n        clearSearch();\n    };\n\n    const handleCloseDetails = () => {\n        setShowDetails(false);\n    };\n\n    return (\n        <div className=\"history-panel\">\n            <div className=\"history-header\">\n                <h3>Commit History</h3>\n                <span className=\"commit-count\">\n                    {commits.length} commits\n                    {searchQuery && ' (filtered)'}\n                </span>\n            </div>\n\n            <SearchBar onSearch={handleSearch} onClear={handleClearSearch} />\n\n            <div className=\"history-content\">\n                <div className=\"history-main\">\n                    <CommitGraph\n                        commits={commits}\n                        selectedHashes={selectedCommits}\n                        onCommitClick={handleCommitClick}\n                        onCommitDoubleClick={handleCommitDoubleClick}\n                    />\n                    <div className=\"commit-list-container\">\n                        <VirtualScroll\n                            itemCount={commits.length}\n                            itemHeight={50}\n                            height={600}\n                            overscan={10}\n                            onLoadMore={loadMore}\n                            hasMore={hasMore && !searchQuery}\n                        >\n                            {(startIndex, endIndex) => (\n                                <CommitList\n                                    commits={commits.slice(startIndex, endIndex)}\n                                    branches={branches}\n                                    currentBranch={status?.current || 'main'}\n                                    startIndex={startIndex}\n                                />\n                            )}\n                        </VirtualScroll>\n                        {loading && (\n                            <div className=\"loading-indicator\">Loading more commits...</div>\n                        )}\n                    </div>\n                </div>\n\n                {showDetails && (\n                    <CommitDetails commit={selectedCommit} onClose={handleCloseDetails} />\n                )}\n            </div>\n        </div>\n    );\n}\n","import { useEffect, useState } from 'react';\nimport { StagePanel } from './components/Stage/StagePanel';\nimport { HistoryPanel } from './components/History/HistoryPanel';\nimport { GitGraphView } from './components/GitGraph/GitGraphView';\nimport { useGitStore } from './store/gitStore';\nimport './App.css';\n\nfunction App() {\n    const { fetchStatus, fetchHistory } = useGitStore();\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n    const [view, setView] = useState<'main' | 'graph'>('main');\n\n    console.log('[Git GUI App] Component mounted');\n\n    useEffect(() => {\n        // 监听来自扩展的消息，判断显示哪个视图\n        const handleMessage = (event: MessageEvent) => {\n            const message = event.data;\n            if (message.type === 'setView') {\n                setView(message.view);\n            }\n        };\n\n        window.addEventListener('message', handleMessage);\n        return () => {\n            window.removeEventListener('message', handleMessage);\n        };\n    }, []);\n\n    useEffect(() => {\n        console.log('[Git GUI App] useEffect triggered for data loading');\n\n        // 初始加载数据\n        const loadData = async () => {\n            try {\n                setLoading(true);\n                setError(null);\n\n                console.log('[Git GUI App] Starting to load data...');\n\n                // 并行加载数据\n                const results = await Promise.all([\n                    fetchStatus().catch(err => {\n                        console.error('[Git GUI App] Failed to fetch status:', err);\n                        throw new Error(`Failed to load git status: ${err.message || err}`);\n                    }),\n                    fetchHistory().catch(err => {\n                        console.error('[Git GUI App] Failed to fetch history:', err);\n                        throw new Error(`Failed to load git history: ${err.message || err}`);\n                    })\n                ]);\n\n                console.log('[Git GUI App] Data loaded successfully, results:', results);\n                console.log('[Git GUI App] Setting loading to false');\n                setLoading(false);\n            } catch (err) {\n                console.error('[Git GUI App] Failed to load data:', err);\n                setError(err instanceof Error ? err.message : String(err));\n                setLoading(false);\n            }\n        };\n\n        // 只在主视图加载数据\n        if (view === 'main') {\n            loadData();\n        }\n    }, [fetchStatus, fetchHistory, view]);\n\n    // 隐藏初始加载动画\n    useEffect(() => {\n        if (!loading) {\n            const loadingEl = document.getElementById('loading');\n            if (loadingEl) {\n                loadingEl.style.display = 'none';\n            }\n        }\n    }, [loading]);\n\n    // Git Graph 视图\n    if (view === 'graph') {\n        return <GitGraphView />;\n    }\n\n    // 主视图\n    if (error) {\n        return (\n            <div className=\"app-error\">\n                <div className=\"error-icon\">⚠️</div>\n                <h2>Failed to Load Git GUI</h2>\n                <p className=\"error-message\">{error}</p>\n                <div className=\"error-actions\">\n                    <button onClick={() => window.location.reload()}>\n                        Reload\n                    </button>\n                </div>\n                <div className=\"error-help\">\n                    <p>Possible causes:</p>\n                    <ul>\n                        <li>Not in a Git repository</li>\n                        <li>Git is not installed or not in PATH</li>\n                        <li>No permission to access the repository</li>\n                    </ul>\n                    <p>Check the Output panel (View → Output → Git GUI) for more details.</p>\n                </div>\n            </div>\n        );\n    }\n\n    if (loading) {\n        return (\n            <div className=\"app-loading\">\n                <div className=\"loading-spinner\"></div>\n                <p>Loading Git repository...</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"app\">\n            <div className=\"app-header\">\n                <h1>Git GUI</h1>\n            </div>\n            <div className=\"app-content\">\n                <div className=\"panel-container\">\n                    <StagePanel />\n                </div>\n                <div className=\"panel-container\">\n                    <HistoryPanel />\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\nimport './index.css';\n\n// 添加日志帮助调试\nconsole.log('[Git GUI Webview] Starting initialization...');\nconsole.log('[Git GUI Webview] React version:', React.version);\nconsole.log('[Git GUI Webview] Root element:', document.getElementById('root'));\n\ntry {\n    const rootElement = document.getElementById('root');\n    if (!rootElement) {\n        throw new Error('Root element not found');\n    }\n\n    console.log('[Git GUI Webview] Creating React root...');\n    const root = ReactDOM.createRoot(rootElement);\n\n    console.log('[Git GUI Webview] Rendering App component...');\n    root.render(\n        <React.StrictMode>\n            <App />\n        </React.StrictMode>\n    );\n\n    console.log('[Git GUI Webview] App rendered successfully');\n\n    // 隐藏 loading 界面\n    setTimeout(() => {\n        const loading = document.getElementById('loading');\n        if (loading) {\n            loading.style.display = 'none';\n            console.log('[Git GUI Webview] Loading screen hidden');\n        }\n    }, 100);\n} catch (error) {\n    console.error('[Git GUI Webview] Initialization error:', error);\n    const errorContainer = document.getElementById('error');\n    const errorMessage = document.getElementById('error-message');\n    const loading = document.getElementById('loading');\n\n    if (loading) loading.style.display = 'none';\n    if (errorContainer) errorContainer.style.display = 'flex';\n    if (errorMessage) errorMessage.textContent = error instanceof Error ? error.message : String(error);\n}\n"],"names":["create","useState","useEffect","jsx","jsxs","Fragment","useRef","useCallback","scrollTop","ReactDOM"],"mappings":";;;;;;;;AAGA,MAAM,UAAU;AAAA;AAAA,EAgBZ,cAAc;AAfN;AACA,qCAAY;AACZ,uDAAc,IAAA;AAId,4DAAmB,IAAA;AAIV,qCAAY;AACZ;AAAA,0CAAiB;AACjB;AAAA,2CAAkB;AAC3B;AAAA,gEAAuB,IAAA;AAG3B,YAAQ,IAAI,8BAA8B;AAE1C,SAAK,SAAS,aAAA;AACd,QAAI,KAAK,QAAQ;AACb,aAAO,iBAAiB,WAAW,KAAK,cAAc,KAAK,IAAI,CAAC;AAChE,cAAQ,IAAI,uCAAuC;AACnD,cAAQ,IAAI,6BAA6B,KAAK,MAAM;AAAA,IACxD,OAAO;AACH,cAAQ,MAAM,2CAA2C;AAAA,IAC7D;AAAA,EACJ;AAAA,EAEA,MAAM,KAAK,WAAmB,QAA6B;AACvD,QAAI,CAAC,KAAK,QAAQ;AACd,cAAQ,MAAM,mDAAmD,MAAM;AACvE,YAAM,IAAI,MAAM,2BAA2B;AAAA,IAC/C;AAEA,YAAQ,IAAI,gCAAgC,QAAQ,WAAW,MAAM;AAGrE,QAAI,KAAK,iBAAiB,MAAM,GAAG;AAC/B,YAAM,WAAW,KAAK,YAAY,QAAQ,MAAM;AAChD,YAAM,SAAS,KAAK,aAAa,IAAI,QAAQ;AAE7C,UAAI,UAAU,KAAK,IAAA,IAAQ,OAAO,YAAY,KAAK,WAAW;AAC1D,eAAO;AACP,eAAO,OAAO;AAAA,MAClB;AAGA,YAAM,cAAc;AACpB,UAAI,KAAK,iBAAiB,IAAI,WAAW,GAAG;AACxC,eAAO,KAAK,iBAAiB,IAAI,WAAW;AAAA,MAChD;AAEA,YAAM,UAAU,KAAK,eAAe,QAAQ,QAAQ,QAAQ;AAC5D,WAAK,iBAAiB,IAAI,aAAa,OAAO;AAE9C,UAAI;AACA,cAAM,SAAS,MAAM;AACrB,eAAO;AAAA,MACX,UAAA;AACI,aAAK,iBAAiB,OAAO,WAAW;AAAA,MAC5C;AAAA,IACJ;AAEA,WAAO,KAAK,eAAe,QAAQ,MAAM;AAAA,EAC7C;AAAA,EAEA,MAAc,eAAe,QAAgB,QAAe,UAAiC;AACzF,UAAM,KAAK,EAAE,KAAK;AAClB,UAAM,UAAsB,EAAE,IAAI,QAAQ,OAAA;AAE1C,YAAQ,IAAI,mCAAmC,OAAO;AAEtD,WAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AAEpC,YAAM,YAAY,WAAW,MAAM;AAC/B,gBAAQ,MAAM,iCAAiC,QAAQ,OAAO,EAAE;AAChE,aAAK,QAAQ,OAAO,EAAE;AACtB,eAAO,IAAI,MAAM,gBAAgB,MAAM,EAAE,CAAC;AAAA,MAC9C,GAAG,KAAK,eAAe;AAEvB,WAAK,QAAQ,IAAI,IAAI;AAAA,QACjB,SAAS,CAAC,UAAe;AACrB,uBAAa,SAAS;AACtB,eAAK,QAAQ,OAAO,EAAE;AAGtB,cAAI,YAAY,KAAK,iBAAiB,MAAM,GAAG;AAC3C,iBAAK,mBAAA;AACL,iBAAK,aAAa,IAAI,UAAU;AAAA,cAC5B,QAAQ;AAAA,cACR,WAAW,KAAK,IAAA;AAAA,cAChB,aAAa;AAAA,YAAA,CAChB;AAAA,UACL;AAEA,kBAAQ,KAAK;AAAA,QACjB;AAAA,QACA,QAAQ,CAAC,UAAe;AACpB,uBAAa,SAAS;AACtB,eAAK,QAAQ,OAAO,EAAE;AACtB,iBAAO,KAAK;AAAA,QAChB;AAAA,MAAA,CACH;AAED,cAAQ,IAAI,8CAA8C,OAAO;AACjE,WAAK,OAAO,YAAY,OAAO;AAAA,IACnC,CAAC;AAAA,EACL;AAAA;AAAA;AAAA;AAAA,EAKA,WAAW,QAAuB;AAC9B,QAAI,QAAQ;AACR,iBAAW,OAAO,KAAK,aAAa,KAAA,GAAQ;AACxC,YAAI,IAAI,WAAW,MAAM,GAAG;AACxB,eAAK,aAAa,OAAO,GAAG;AAAA,QAChC;AAAA,MACJ;AAAA,IACJ,OAAO;AACH,WAAK,aAAa,MAAA;AAAA,IACtB;AAAA,EACJ;AAAA;AAAA;AAAA;AAAA,EAKQ,qBAA2B;AAC/B,QAAI,KAAK,aAAa,QAAQ,KAAK,gBAAgB;AAE/C,UAAI,iBAAiB;AACrB,UAAI,eAA8B;AAElC,iBAAW,CAAC,KAAK,KAAK,KAAK,KAAK,aAAa,WAAW;AACpD,YAAI,MAAM,cAAc,gBAAgB;AACpC,2BAAiB,MAAM;AACvB,yBAAe;AAAA,QACnB;AAAA,MACJ;AAEA,UAAI,cAAc;AACd,aAAK,aAAa,OAAO,YAAY;AAAA,MACzC;AAAA,IACJ;AAAA,EACJ;AAAA,EAEQ,iBAAiB,QAAyB;AAC9C,WACI,OAAO,WAAW,SAAS,KAC3B,OAAO,WAAW,UAAU,KAC5B,WAAW,mBACX,WAAW,gBACX,WAAW;AAAA,EAEnB;AAAA,EAEQ,YAAY,QAAgB,QAAuB;AAEvD,WAAO,GAAG,MAAM,IAAI,KAAK,gBAAgB,MAAM,CAAC;AAAA,EACpD;AAAA;AAAA;AAAA;AAAA;AAAA,EAMQ,gBAAgB,KAAkB;AACtC,QAAI,QAAQ,QAAQ,QAAQ,QAAW;AACnC,aAAO,OAAO,GAAG;AAAA,IACrB;AACA,QAAI,OAAO,QAAQ,UAAU;AACzB,aAAO,OAAO,GAAG;AAAA,IACrB;AACA,QAAI,MAAM,QAAQ,GAAG,GAAG;AACpB,aAAO,IAAI,IAAI,IAAI,CAAC,SAAS,KAAK,gBAAgB,IAAI,CAAC,EAAE,KAAK,GAAG,CAAC;AAAA,IACtE;AAEA,UAAM,OAAO,OAAO,KAAK,GAAG,EAAE,KAAA;AAC9B,UAAM,QAAQ,KAAK,IAAI,CAAC,MAAM,IAAI,CAAC,KAAK,KAAK,gBAAgB,IAAI,CAAC,CAAC,CAAC,EAAE;AACtE,WAAO,IAAI,MAAM,KAAK,GAAG,CAAC;AAAA,EAC9B;AAAA,EAEQ,cAAc,OAAqB;AACvC,UAAM,WAAwB,MAAM;AAEpC,YAAQ,IAAI,kCAAkC,QAAQ;AACtD,YAAQ,IAAI,kCAAkC;AAAA,MAC1C,IAAI,SAAS;AAAA,MACb,UAAU,CAAC,CAAC,SAAS;AAAA,MACrB,WAAW,SAAS,WAAW;AAAA,MAC/B,YAAY,OAAO,SAAS;AAAA,IAAA,CAC/B;AAED,QAAI,CAAC,SAAS,IAAI;AAEd,cAAQ,IAAI,4CAA4C;AACxD;AAAA,IACJ;AAEA,UAAM,UAAU,KAAK,QAAQ,IAAI,SAAS,EAAE;AAC5C,QAAI,CAAC,SAAS;AACV,cAAQ,KAAK,2CAA2C,SAAS,EAAE;AACnE;AAAA,IACJ;AAEA,QAAI,SAAS,OAAO;AAChB,cAAQ,MAAM,gCAAgC,SAAS,KAAK;AAC5D,cAAQ,OAAO,IAAI,MAAM,SAAS,KAAK,CAAC;AAAA,IAC5C,OAAO;AACH,cAAQ,IAAI,uCAAuC,SAAS,IAAI,WAAW,SAAS,MAAM;AAC1F,cAAQ,QAAQ,SAAS,MAAM;AAAA,IACnC;AAEA,SAAK,QAAQ,OAAO,SAAS,EAAE;AAAA,EACnC;AACJ;AAEO,MAAM,YAAY,IAAI,UAAA;AC/JtB,MAAM,cAAc,OAAiB,CAAC,KAAK,SAAS;AAAA,EACvD,QAAQ;AAAA,EACR,SAAS,CAAA;AAAA,EACT,UAAU,CAAA;AAAA,EACV,iBAAiB,CAAA;AAAA,EACjB,SAAS;AAAA,EACT,OAAO;AAAA,EACP,SAAS;AAAA,EACT,aAAa;AAAA,EACb,eAAe;AAAA,EACf,SAAS,CAAA;AAAA,EAET,aAAa,YAAY;AACrB,QAAI;AACA,cAAQ,IAAI,qCAAqC;AACjD,UAAI,EAAE,SAAS,MAAM,OAAO,MAAM;AAClC,YAAM,SAAS,MAAM,UAAU,KAAK,eAAe;AACnD,cAAQ,IAAI,4CAA4C,MAAM;AAC9D,UAAI,EAAE,QAAQ,SAAS,MAAA,CAAO;AAC9B,cAAQ,IAAI,uCAAuC;AAAA,IACvD,SAAS,OAAO;AACZ,cAAQ,MAAM,kCAAkC,KAAK;AACrD,UAAI,EAAE,OAAQ,MAAgB,SAAS,SAAS,OAAO;AAAA,IAC3D;AAAA,EACJ;AAAA,EAEA,cAAc,OAAO,UAAU,OAAO;AAClC,QAAI;AACA,cAAQ,IAAI,mDAAmD,OAAO;AACtE,UAAI,EAAE,SAAS,MAAM,OAAO,MAAM;AAClC,YAAM,UAAU,MAAM,UAAU,KAAK,oBAAoB,OAAO;AAChE,cAAQ,IAAI,8CAA8C,mCAAS,QAAQ,SAAS;AACpF,UAAI,EAAE,SAAS,SAAS,MAAA,CAAO;AAC/B,cAAQ,IAAI,wCAAwC;AAAA,IACxD,SAAS,OAAO;AACZ,cAAQ,MAAM,mCAAmC,KAAK;AACtD,UAAI,EAAE,OAAQ,MAAgB,SAAS,SAAS,OAAO;AAAA,IAC3D;AAAA,EACJ;AAAA,EAEA,eAAe,YAAY;;AACvB,QAAI;AACA,YAAM,WAAW,MAAM,UAAU,KAAK,iBAAiB;AACvD,YAAM,kBAAgB,cAAS,KAAK,CAAC,MAAkB,EAAE,OAAO,MAA1C,mBAA6C,SAAQ;AAC3E,UAAI,EAAE,UAAU,eAAe;AAAA,IACnC,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,QAAA,CAAS;AAAA,IAC3C;AAAA,EACJ;AAAA,EAEA,YAAY,OAAO,UAAU;AACzB,QAAI;AACA,YAAM,UAAU,KAAK,kBAAkB,KAAK;AAC5C,YAAM,IAAA,EAAM,YAAA;AAAA,IAChB,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,QAAA,CAAS;AAAA,IAC3C;AAAA,EACJ;AAAA,EAEA,cAAc,OAAO,UAAU;AAC3B,QAAI;AACA,YAAM,UAAU,KAAK,oBAAoB,KAAK;AAC9C,YAAM,IAAA,EAAM,YAAA;AAAA,IAChB,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,QAAA,CAAS;AAAA,IAC3C;AAAA,EACJ;AAAA,EAEA,UAAU,YAAY;AAClB,QAAI;AACA,YAAM,UAAU,KAAK,cAAc;AACnC,YAAM,IAAA,EAAM,YAAA;AAAA,IAChB,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,QAAA,CAAS;AAAA,IAC3C;AAAA,EACJ;AAAA,EAEA,YAAY,YAAY;AACpB,QAAI;AACA,YAAM,UAAU,KAAK,gBAAgB;AACrC,YAAM,IAAA,EAAM,YAAA;AAAA,IAChB,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,QAAA,CAAS;AAAA,IAC3C;AAAA,EACJ;AAAA,EAEA,QAAQ,OAAO,YAAY;AACvB,QAAI;AACA,YAAM,UAAU,KAAK,cAAc,OAAO;AAC1C,YAAM,IAAA,EAAM,YAAA;AACZ,YAAM,IAAA,EAAM,aAAA;AAAA,IAChB,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,QAAA,CAAS;AAAA,IAC3C;AAAA,EACJ;AAAA,EAEA,cAAc,OAAO,UAAU;AAC3B,QAAI;AACA,YAAM,UAAU,KAAK,eAAe,KAAK;AACzC,YAAM,IAAA,EAAM,YAAA;AAAA,IAChB,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,QAAA,CAAS;AAAA,IAC3C;AAAA,EACJ;AAAA,EAEA,cAAc,CAAC,MAAM,UAAU;AAC3B,UAAM,EAAE,gBAAA,IAAoB,IAAA;AAC5B,QAAI,OAAO;AACP,UAAI,gBAAgB,SAAS,IAAI,GAAG;AAChC,YAAI,EAAE,iBAAiB,gBAAgB,OAAO,CAAC,MAAM,MAAM,IAAI,GAAG;AAAA,MACtE,OAAO;AACH,YAAI,EAAE,iBAAiB,CAAC,GAAG,iBAAiB,IAAI,GAAG;AAAA,MACvD;AAAA,IACJ,OAAO;AACH,UAAI,EAAE,iBAAiB,CAAC,IAAI,GAAG;AAAA,IACnC;AAAA,EACJ;AAAA,EAEA,gBAAgB,MAAM;AAClB,QAAI,EAAE,iBAAiB,CAAA,GAAI;AAAA,EAC/B;AAAA,EAEA,aAAa,OAAO,YAAqB;AACrC,QAAI;AACA,YAAM,UAAU,KAAK,mBAAmB,OAAO;AAC/C,YAAM,IAAA,EAAM,YAAA;AACZ,YAAM,IAAA,EAAM,aAAA;AAAA,IAChB,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,QAAA,CAAS;AAAA,IAC3C;AAAA,EACJ;AAAA,EAEA,eAAe,OAAO,YAAsB;AACxC,QAAI;AACA,YAAM,UAAU,KAAK,cAAc,OAAO;AAC1C,YAAM,IAAA,EAAM,aAAA;AAAA,IAChB,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,QAAA,CAAS;AAAA,IAC3C;AAAA,EACJ;AAAA,EAEA,aAAa,OAAO,MAAc,SAAkB,UAA2B;AAC3E,QAAI;AACA,aAAO,MAAM,UAAU,KAAK,mBAAmB,MAAM,MAAM;AAAA,IAC/D,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,QAAA,CAAS;AACvC,aAAO;AAAA,IACX;AAAA,EACJ;AAAA,EAEA,eAAe,OAAO,OAAe,SAAwC;AACzE,QAAI;AACA,UAAI,EAAE,SAAS,MAAM,OAAO,MAAM,aAAa,OAAO;AAEtD,UAAI;AACJ,UAAI,SAAS,UAAU;AACnB,kBAAU,MAAM,UAAU,KAAK,0BAA0B,OAAO,EAAE,UAAU,KAAK;AAAA,MACrF,WAAW,SAAS,QAAQ;AAExB,cAAM,aAAa,MAAM;AACzB,kBAAU,WAAW;AAAA,UACjB,CAAC,MACG,EAAE,KAAK,YAAA,EAAc,SAAS,MAAM,YAAA,CAAa,KACjD,EAAE,UAAU,YAAA,EAAc,SAAS,MAAM,aAAa;AAAA,QAAA;AAAA,MAElE,OAAO;AAEH,kBAAU,MAAM,UAAU,KAAK,qBAAqB,OAAO,EAAE,UAAU,KAAK;AAAA,MAChF;AAEA,UAAI,EAAE,SAAS,SAAS,OAAO,SAAS,OAAO;AAAA,IACnD,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,SAAS,SAAS,OAAO;AAAA,IAC3D;AAAA,EACJ;AAAA,EAEA,aAAa,YAAY;AACrB,QAAI,EAAE,aAAa,MAAM;AACzB,UAAM,MAAM,aAAa,EAAE,UAAU,KAAK;AAAA,EAC9C;AAAA,EAEA,UAAU,YAAY;AAClB,UAAM,EAAE,SAAS,SAAS,SAAS,YAAA,IAAgB,IAAA;AAEnD,QAAI,WAAW,CAAC,WAAW,aAAa;AACpC;AAAA,IACJ;AAEA,QAAI;AACA,UAAI,EAAE,SAAS,MAAM;AACrB,YAAM,aAAa,MAAM,UAAU,KAAK,oBAAoB;AAAA,QACxD,UAAU;AAAA,QACV,MAAM,QAAQ;AAAA,MAAA,CACjB;AAED,UAAI,WAAW,WAAW,GAAG;AACzB,YAAI,EAAE,SAAS,OAAO,SAAS,OAAO;AAAA,MAC1C,OAAO;AACH,YAAI;AAAA,UACA,SAAS,CAAC,GAAG,SAAS,GAAG,UAAU;AAAA,UACnC,SAAS;AAAA,UACT,SAAS,WAAW,WAAW;AAAA,QAAA,CAClC;AAAA,MACL;AAAA,IACJ,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,SAAS,SAAS,OAAO;AAAA,IAC3D;AAAA,EACJ;AAAA,EAEA,aAAa,OAAO,MAAc,aAAsB,YAAoB;AACxE,QAAI;AACA,UAAI,EAAE,SAAS,MAAM,OAAO,MAAM;AAClC,UAAI,eAAe,SAAS;AACxB,cAAM,UAAU,KAAK,yBAAyB,MAAM,OAAO;AAAA,MAC/D,OAAO;AACH,cAAM,UAAU,KAAK,cAAc,MAAM,WAAW;AAAA,MACxD;AACA,YAAM,IAAA,EAAM,aAAA;AACZ,YAAM,IAAA,EAAM,YAAA;AACZ,UAAI,EAAE,SAAS,OAAO;AAAA,IAC1B,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,SAAS,SAAS,OAAO;AACvD,YAAM;AAAA,IACV;AAAA,EACJ;AAAA,EAEA,gBAAgB,YAAY;AACxB,QAAI;AACA,UAAI,EAAE,SAAS,MAAM,OAAO,MAAM;AAClC,YAAM,UAAU,KAAK,oBAAoB;AACzC,YAAM,IAAA,EAAM,aAAA;AACZ,YAAM,IAAA,EAAM,YAAA;AACZ,UAAI,EAAE,SAAS,OAAO;AAAA,IAC1B,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,SAAS,SAAS,OAAO;AACvD,YAAM;AAAA,IACV;AAAA,EACJ;AAAA,EAEA,aAAa,YAAY;AACrB,QAAI;AACA,UAAI,EAAE,SAAS,MAAM,OAAO,MAAM;AAClC,YAAM,UAAU,KAAK,iBAAiB;AACtC,YAAM,IAAA,EAAM,aAAA;AACZ,YAAM,IAAA,EAAM,YAAA;AACZ,UAAI,EAAE,SAAS,OAAO;AAAA,IAC1B,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,SAAS,SAAS,OAAO;AACvD,YAAM;AAAA,IACV;AAAA,EACJ;AAAA,EAEA,YAAY,YAAY;AACpB,QAAI;AACA,UAAI,EAAE,SAAS,MAAM,OAAO,MAAM;AAClC,YAAM,UAAU,KAAK,gBAAgB;AACrC,YAAM,IAAA,EAAM,aAAA;AACZ,YAAM,IAAA,EAAM,YAAA;AACZ,UAAI,EAAE,SAAS,OAAO;AAAA,IAC1B,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,SAAS,SAAS,OAAO;AACvD,YAAM;AAAA,IACV;AAAA,EACJ;AAAA,EAEA,gBAAgB,YAAY;AACxB,QAAI;AACA,aAAO,MAAM,UAAU,KAAK,oBAAoB;AAAA,IACpD,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,QAAA,CAAS;AACvC,aAAO,EAAE,MAAM,OAAA;AAAA,IACnB;AAAA,EACJ;AAAA,EAEA,YAAY,YAAY;AACpB,QAAI;AACA,aAAO,MAAM,UAAU,KAAK,gBAAgB;AAAA,IAChD,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,QAAA,CAAS;AACvC,aAAO;AAAA,IACX;AAAA,EACJ;AAAA,EAEA,YAAY,OAAO,YAAsB;AACrC,QAAI;AACA,UAAI,EAAE,SAAS,MAAM,OAAO,MAAM;AAClC,YAAM,UAAU,KAAK,kBAAkB,OAAO;AAC9C,YAAM,IAAA,EAAM,aAAA;AACZ,YAAM,IAAA,EAAM,YAAA;AACZ,UAAI,EAAE,SAAS,OAAO;AAAA,IAC1B,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,SAAS,SAAS,OAAO;AACvD,YAAM;AAAA,IACV;AAAA,EACJ;AAAA,EAEA,YAAY,YAAY;AACpB,QAAI;AACA,aAAO,MAAM,UAAU,KAAK,eAAe;AAAA,IAC/C,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,QAAA,CAAS;AACvC,aAAO,CAAA;AAAA,IACX;AAAA,EACJ;AAAA,EAEA,aAAa,OAAO,SAAkB,mBAA4B,UAAU;AACxE,QAAI;AACA,UAAI,EAAE,SAAS,MAAM,OAAO,MAAM;AAClC,YAAM,UAAU,KAAK,iBAAiB,SAAS,gBAAgB;AAC/D,YAAM,IAAA,EAAM,YAAA;AACZ,UAAI,EAAE,SAAS,OAAO;AAAA,IAC1B,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,SAAS,SAAS,OAAO;AACvD,YAAM;AAAA,IACV;AAAA,EACJ;AAAA,EAEA,YAAY,OAAO,UAAkB;AACjC,QAAI;AACA,UAAI,EAAE,SAAS,MAAM,OAAO,MAAM;AAClC,YAAM,UAAU,KAAK,kBAAkB,KAAK;AAC5C,YAAM,IAAA,EAAM,YAAA;AACZ,UAAI,EAAE,SAAS,OAAO;AAAA,IAC1B,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,SAAS,SAAS,OAAO;AACvD,YAAM;AAAA,IACV;AAAA,EACJ;AAAA,EAEA,UAAU,OAAO,UAAkB;AAC/B,QAAI;AACA,UAAI,EAAE,SAAS,MAAM,OAAO,MAAM;AAClC,YAAM,UAAU,KAAK,gBAAgB,KAAK;AAC1C,YAAM,IAAA,EAAM,YAAA;AACZ,UAAI,EAAE,SAAS,OAAO;AAAA,IAC1B,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,SAAS,SAAS,OAAO;AACvD,YAAM;AAAA,IACV;AAAA,EACJ;AAAA,EAEA,WAAW,OAAO,UAAkB;AAChC,QAAI;AACA,UAAI,EAAE,SAAS,MAAM,OAAO,MAAM;AAClC,YAAM,UAAU,KAAK,iBAAiB,KAAK;AAC3C,UAAI,EAAE,SAAS,OAAO;AAAA,IAC1B,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,SAAS,SAAS,OAAO;AACvD,YAAM;AAAA,IACV;AAAA,EACJ;AAAA,EAEA,cAAc,OAAO,MAAc,eAAwB;AACvD,QAAI;AACA,UAAI,EAAE,SAAS,MAAM,OAAO,MAAM;AAClC,YAAM,UAAU,KAAK,oBAAoB,MAAM,UAAU;AACzD,YAAM,IAAA,EAAM,cAAA;AACZ,UAAI,EAAE,SAAS,OAAO;AAAA,IAC1B,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,SAAS,SAAS,OAAO;AACvD,YAAM;AAAA,IACV;AAAA,EACJ;AAAA,EAEA,cAAc,OAAO,MAAc,QAAiB,UAAU;AAC1D,QAAI;AACA,UAAI,EAAE,SAAS,MAAM,OAAO,MAAM;AAClC,YAAM,UAAU,KAAK,oBAAoB,MAAM,KAAK;AACpD,YAAM,IAAA,EAAM,cAAA;AACZ,UAAI,EAAE,SAAS,OAAO;AAAA,IAC1B,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,SAAS,SAAS,OAAO;AACvD,YAAM;AAAA,IACV;AAAA,EACJ;AAAA,EAEA,cAAc,OAAO,SAAiB,SAAiB,QAAiB,UAAU;AAC9E,QAAI;AACA,UAAI,EAAE,SAAS,MAAM,OAAO,MAAM;AAClC,YAAM,UAAU,KAAK,oBAAoB,SAAS,SAAS,KAAK;AAChE,YAAM,IAAA,EAAM,cAAA;AACZ,UAAI,EAAE,SAAS,OAAO;AAAA,IAC1B,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,SAAS,SAAS,OAAO;AACvD,YAAM;AAAA,IACV;AAAA,EACJ;AAAA,EAEA,gBAAgB,OAAO,MAAcA,UAAkB,UAAU;AAC7D,QAAI;AACA,UAAI,EAAE,SAAS,MAAM,OAAO,MAAM;AAClC,YAAM,UAAU,KAAK,sBAAsB,MAAMA,OAAM;AACvD,YAAM,IAAA,EAAM,cAAA;AACZ,YAAM,IAAA,EAAM,YAAA;AACZ,YAAM,IAAA,EAAM,aAAA;AACZ,UAAI,EAAE,SAAS,OAAO;AAAA,IAC1B,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,SAAS,SAAS,OAAO;AACvD,YAAM;AAAA,IACV;AAAA,EACJ;AAAA,EAEA,aAAa,OAAO,QAAgB,gBAAyB,UAAU;AACnE,QAAI;AACA,UAAI,EAAE,SAAS,MAAM,OAAO,MAAM;AAClC,YAAM,UAAU,KAAK,mBAAmB,QAAQ,aAAa;AAC7D,YAAM,IAAA,EAAM,aAAA;AACZ,YAAM,IAAA,EAAM,YAAA;AACZ,UAAI,EAAE,SAAS,OAAO;AAAA,IAC1B,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,SAAS,SAAS,OAAO;AACvD,YAAM;AAAA,IACV;AAAA,EACJ;AAAA;AAAA,EAGA,cAAc,YAAY;AACtB,QAAI;AACA,UAAI,EAAE,SAAS,MAAM,OAAO,MAAM;AAClC,YAAM,UAAU,MAAM,UAAU,KAAK,iBAAiB;AACtD,UAAI,EAAE,SAAS,SAAS,MAAA,CAAO;AAAA,IACnC,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,SAAS,SAAS,OAAO;AAAA,IAC3D;AAAA,EACJ;AAAA,EAEA,WAAW,OAAO,MAAc,QAAgB;AAC5C,QAAI;AACA,UAAI,EAAE,SAAS,MAAM,OAAO,MAAM;AAClC,YAAM,UAAU,KAAK,iBAAiB,MAAM,GAAG;AAC/C,YAAM,IAAA,EAAM,aAAA;AACZ,UAAI,EAAE,SAAS,OAAO;AAAA,IAC1B,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,SAAS,SAAS,OAAO;AACvD,YAAM;AAAA,IACV;AAAA,EACJ;AAAA,EAEA,cAAc,OAAO,SAAiB;AAClC,QAAI;AACA,UAAI,EAAE,SAAS,MAAM,OAAO,MAAM;AAClC,YAAM,UAAU,KAAK,oBAAoB,IAAI;AAC7C,YAAM,IAAA,EAAM,aAAA;AACZ,UAAI,EAAE,SAAS,OAAO;AAAA,IAC1B,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,SAAS,SAAS,OAAO;AACvD,YAAM;AAAA,IACV;AAAA,EACJ;AAAA,EAEA,OAAO,OAAO,QAAiB,UAAoB;AAC/C,QAAI;AACA,UAAI,EAAE,SAAS,MAAM,OAAO,MAAM;AAClC,YAAM,UAAU,KAAK,aAAa,QAAQ,KAAK;AAC/C,YAAM,IAAA,EAAM,aAAA;AACZ,YAAM,IAAA,EAAM,cAAA;AACZ,UAAI,EAAE,SAAS,OAAO;AAAA,IAC1B,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,SAAS,SAAS,OAAO;AACvD,YAAM;AAAA,IACV;AAAA,EACJ;AAAA,EAEA,MAAM,OAAO,QAAiB,QAAiB,WAAqB;AAChE,QAAI;AACA,UAAI,EAAE,SAAS,MAAM,OAAO,MAAM;AAClC,YAAM,UAAU,KAAK,YAAY,QAAQ,QAAQ,MAAM;AACvD,YAAM,IAAA,EAAM,aAAA;AACZ,YAAM,IAAA,EAAM,YAAA;AACZ,UAAI,EAAE,SAAS,OAAO;AAAA,IAC1B,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,SAAS,SAAS,OAAO;AACvD,YAAM;AAAA,IACV;AAAA,EACJ;AAAA,EAEA,MAAM,OAAO,QAAiB,QAAiB,OAAiB,gBAA0B;AACtF,QAAI;AACA,UAAI,EAAE,SAAS,MAAM,OAAO,MAAM;AAClC,YAAM,UAAU,KAAK,YAAY,QAAQ,QAAQ,OAAO,WAAW;AACnE,YAAM,IAAA,EAAM,cAAA;AACZ,UAAI,EAAE,SAAS,OAAO;AAAA,IAC1B,SAAS,OAAO;AACZ,UAAI,EAAE,OAAQ,MAAgB,SAAS,SAAS,OAAO;AACvD,YAAM;AAAA,IACV;AAAA,EACJ;AACJ,EAAE;AC1hBK,SAAS,WAAW,EAAE,MAAM,SAAS,OAAO,WAA4B;AAC3E,QAAM,CAAC,MAAM,OAAO,IAAIC,aAAAA,SAAiB,EAAE;AAC3C,QAAM,CAAC,SAAS,UAAU,IAAIA,aAAAA,SAAS,IAAI;AAC3C,QAAM,EAAE,YAAA,IAAgB,YAAA;AAExBC,eAAAA,UAAU,MAAM;AACZ,aAAA;AAAA,EACJ,GAAG,CAAC,MAAM,MAAM,CAAC;AAEjB,QAAM,WAAW,YAAY;AACzB,eAAW,IAAI;AACf,UAAM,SAAS,MAAM,YAAY,MAAM,MAAM;AAC7C,YAAQ,MAAM;AACd,eAAW,KAAK;AAAA,EACpB;AAEA,QAAM,YAAY,CAAC,aAAqB;AACpC,UAAM,QAAQ,SAAS,MAAM,IAAI;AACjC,WAAO,MAAM,IAAI,CAAC,MAAM,UAAU;AAC9B,UAAI,YAAY;AAChB,UAAI,KAAK,WAAW,GAAG,KAAK,CAAC,KAAK,WAAW,KAAK,GAAG;AACjD,qBAAa;AAAA,MACjB,WAAW,KAAK,WAAW,GAAG,KAAK,CAAC,KAAK,WAAW,KAAK,GAAG;AACxD,qBAAa;AAAA,MACjB,WAAW,KAAK,WAAW,IAAI,GAAG;AAC9B,qBAAa;AAAA,MACjB;AACA,aACIC,kCAAAA,IAAC,OAAA,EAAgB,WACZ,UAAA,QAAQ,OADH,KAEV;AAAA,IAER,CAAC;AAAA,EACL;AAEA,SACIA,kCAAAA,IAAC,OAAA,EAAI,WAAU,uBAAsB,SAAS,SAC1C,UAAAC,kCAAAA,KAAC,OAAA,EAAI,WAAU,eAAc,SAAS,CAAC,MAAM,EAAE,mBAC3C,UAAA;AAAA,IAAAA,kCAAAA,KAAC,OAAA,EAAI,WAAU,sBACX,UAAA;AAAA,MAAAD,kCAAAA,IAAC,QAAI,UAAA,KAAA,CAAK;AAAA,4CACT,QAAA,EAAK,WAAU,qBAAqB,UAAA,SAAS,WAAW,YAAW;AAAA,4CACnE,UAAA,EAAO,WAAU,qBAAoB,SAAS,SAAS,UAAA,IAAA,CAExD;AAAA,IAAA,GACJ;AAAA,IACAA,kCAAAA,IAAC,OAAA,EAAI,WAAU,uBACV,UAAA,gDACI,OAAA,EAAI,WAAU,uBAAsB,UAAA,kBAAA,CAAe,IACpD,6CACC,OAAA,EAAI,WAAU,mBAAmB,UAAA,UAAU,IAAI,EAAA,CAAE,IAElDA,kCAAAA,IAAC,OAAA,EAAI,WAAU,qBAAoB,UAAA,aAAA,CAAU,EAAA,CAErD;AAAA,EAAA,EAAA,CACJ,EAAA,CACJ;AAER;ACvDO,SAAS,SAAS;AAAA,EACrB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,SAAS;AACb,GAAkB;AACd,QAAM,CAAC,eAAe,gBAAgB,IAAIF,aAAAA,SAAsB,oBAAI,KAAK;AACzE,QAAM,CAAC,UAAU,WAAW,IAAIA,aAAAA,SAAwB,IAAI;AAE5D,QAAM,kBAAkB,CAAC,MAAc,UAA4B;AAC/D,QAAI,MAAM,WAAW,MAAM,SAAS;AAEhC,YAAM,eAAe,IAAI,IAAI,aAAa;AAC1C,UAAI,aAAa,IAAI,IAAI,GAAG;AACxB,qBAAa,OAAO,IAAI;AAAA,MAC5B,OAAO;AACH,qBAAa,IAAI,IAAI;AAAA,MACzB;AACA,uBAAiB,YAAY;AAAA,IACjC,OAAO;AAEH,uBAAiB,oBAAI,IAAI,CAAC,IAAI,CAAC,CAAC;AAAA,IACpC;AAAA,EACJ;AAEA,QAAM,qBAAqB,CAAC,SAAiB;AACzC,gBAAY,IAAI;AAAA,EACpB;AAEA,QAAM,eAAe,CAAC,SAAiB;AACnC,aAAS,CAAC,IAAI,CAAC;AACf,qBAAiB,oBAAI,KAAK;AAAA,EAC9B;AAEA,QAAM,uBAAuB,MAAM;AAC/B,QAAI,cAAc,OAAO,GAAG;AACxB,eAAS,MAAM,KAAK,aAAa,CAAC;AAClC,uBAAiB,oBAAI,KAAK;AAAA,IAC9B;AAAA,EACJ;AAEA,QAAM,gBAAgB,CAAC,SAAiB;AACpC,QAAI,WAAW;AACX,gBAAU,CAAC,IAAI,CAAC;AAChB,uBAAiB,oBAAI,KAAK;AAAA,IAC9B;AAAA,EACJ;AAEA,QAAM,wBAAwB,MAAM;AAChC,QAAI,aAAa,cAAc,OAAO,GAAG;AACrC,gBAAU,MAAM,KAAK,aAAa,CAAC;AACnC,uBAAiB,oBAAI,KAAK;AAAA,IAC9B;AAAA,EACJ;AAEA,MAAI,MAAM,WAAW,GAAG;AACpB,WAAOE,kCAAAA,IAAC,OAAA,EAAI,WAAU,mBAAkB,UAAA,cAAU;AAAA,EACtD;AAEA,SACIC,kCAAAA,KAAAC,4BAAA,EACI,UAAA;AAAA,IAAAD,kCAAAA,KAAC,OAAA,EAAI,WAAU,aACV,UAAA;AAAA,MAAA,cAAc,OAAO,KAClBA,kCAAAA,KAAC,OAAA,EAAI,WAAU,qBACX,UAAA;AAAA,QAAAA,kCAAAA,KAAC,UAAA,EAAO,SAAS,sBACZ,UAAA;AAAA,UAAA;AAAA,UAAY;AAAA,UAAE,cAAc;AAAA,UAAK;AAAA,QAAA,GACtC;AAAA,QACC,aAAa,CAAC,UACXA,kCAAAA,KAAC,YAAO,WAAU,qBAAoB,SAAS,uBAAuB,UAAA;AAAA,UAAA;AAAA,UACzD,cAAc;AAAA,UAAK;AAAA,QAAA,EAAA,CAChC;AAAA,MAAA,GAER;AAAA,4CAEH,OAAA,EAAI,WAAU,mBACV,UAAA,MAAM,IAAI,CAAC,SACRA,kCAAAA;AAAAA,QAAC;AAAA,QAAA;AAAA,UAEG,WAAW,aAAa,cAAc,IAAI,IAAI,IAAI,aAAa,EAAE;AAAA,UACjE,SAAS,CAAC,MAAM,gBAAgB,MAAM,CAAC;AAAA,UACvC,eAAe,MAAM,mBAAmB,IAAI;AAAA,UAC5C,OAAM;AAAA,UAEN,UAAA;AAAA,YAAAD,kCAAAA,IAAC,QAAA,EAAK,WAAU,aAAa,UAAA,MAAK;AAAA,YAClCC,kCAAAA,KAAC,OAAA,EAAI,WAAU,gBACX,UAAA;AAAA,cAAAD,kCAAAA;AAAAA,gBAAC;AAAA,gBAAA;AAAA,kBACG,WAAU;AAAA,kBACV,SAAS,CAAC,MAAM;AACZ,sBAAE,gBAAA;AACF,iCAAa,IAAI;AAAA,kBACrB;AAAA,kBAEC,UAAA;AAAA,gBAAA;AAAA,cAAA;AAAA,cAEJ,aAAa,CAAC,UACXA,kCAAAA;AAAAA,gBAAC;AAAA,gBAAA;AAAA,kBACG,WAAU;AAAA,kBACV,SAAS,CAAC,MAAM;AACZ,sBAAE,gBAAA;AACF,kCAAc,IAAI;AAAA,kBACtB;AAAA,kBACH,UAAA;AAAA,gBAAA;AAAA,cAAA;AAAA,YAED,EAAA,CAER;AAAA,UAAA;AAAA,QAAA;AAAA,QA5BK;AAAA,MAAA,CA8BZ,EAAA,CACL;AAAA,IAAA,GACJ;AAAA,IACC,YACGA,kCAAAA,IAAC,YAAA,EAAW,MAAM,UAAU,QAAgB,SAAS,MAAM,YAAY,IAAI,EAAA,CAAG;AAAA,EAAA,GAEtF;AAER;AC5HO,SAAS,YAAY;AACxB,QAAM,CAAC,SAAS,UAAU,IAAIF,aAAAA,SAAS,EAAE;AACzC,QAAM,CAAC,SAAS,UAAU,IAAIA,aAAAA,SAAS,KAAK;AAC5C,QAAM,EAAE,QAAQ,QAAQ,aAAa,QAAA,IAAY,YAAA;AAEjDC,eAAAA,UAAU,MAAM;AACZ,QAAI,WAAW,QAAQ,SAAS,GAAG;AAC/B,iBAAW,QAAQ,CAAC,EAAE,OAAO;AAAA,IACjC,WAAW,CAAC,SAAS;AACjB,iBAAW,EAAE;AAAA,IACjB;AAAA,EACJ,GAAG,CAAC,SAAS,OAAO,CAAC;AAErB,QAAM,eAAe,YAAY;AAC7B,QAAI,QAAQ,QAAQ;AAChB,UAAI,SAAS;AACT,cAAM,YAAY,OAAO;AAAA,MAC7B,OAAO;AACH,YAAI,UAAU,OAAO,OAAO,SAAS,GAAG;AACpC,gBAAM,OAAO,OAAO;AAAA,QACxB;AAAA,MACJ;AACA,iBAAW,EAAE;AACb,iBAAW,KAAK;AAAA,IACpB;AAAA,EACJ;AAEA,QAAM,gBAAgB,CAAC,MAA2B;AAC9C,SAAK,EAAE,WAAW,EAAE,YAAY,EAAE,QAAQ,SAAS;AAC/C,mBAAA;AAAA,IACJ;AAAA,EACJ;AAEA,QAAM,YACF,QAAQ,KAAA,EAAO,SAAS,MAAM,WAAY,UAAU,OAAO,OAAO,SAAS;AAE/E,SACIE,kCAAAA,KAAC,OAAA,EAAI,WAAU,cACX,UAAA;AAAA,IAAAA,kCAAAA,KAAC,OAAA,EAAI,WAAU,iBACX,UAAA;AAAA,MAAAD,kCAAAA,IAAC,QAAG,UAAA,iBAAA,CAAc;AAAA,MAClBC,kCAAAA,KAAC,OAAA,EAAI,WAAU,kBACX,UAAA;AAAA,QAAAA,kCAAAA,KAAC,SAAA,EAAM,WAAU,sBACb,UAAA;AAAA,UAAAD,kCAAAA;AAAAA,YAAC;AAAA,YAAA;AAAA,cACG,MAAK;AAAA,cACL,SAAS;AAAA,cACT,UAAU,CAAC,MAAM,WAAW,EAAE,OAAO,OAAO;AAAA,cAC5C,UAAU,QAAQ,WAAW;AAAA,YAAA;AAAA,UAAA;AAAA,UAEjCA,kCAAAA,IAAC,UAAK,UAAA,oBAAA,CAAiB;AAAA,QAAA,GAC3B;AAAA,QACAA,kCAAAA,IAAC,QAAA,EAAK,WAAU,eAAc,UAAA,uBAAA,CAAoB;AAAA,MAAA,EAAA,CACtD;AAAA,IAAA,GACJ;AAAA,IACAA,kCAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACG,WAAU;AAAA,QACV,aAAa,UAAU,2BAA2B;AAAA,QAClD,OAAO;AAAA,QACP,UAAU,CAAC,MAAM,WAAW,EAAE,OAAO,KAAK;AAAA,QAC1C,WAAW;AAAA,QACX,MAAM;AAAA,MAAA;AAAA,IAAA;AAAA,IAEVC,kCAAAA,KAAC,OAAA,EAAI,WAAU,iBACX,UAAA;AAAA,MAAAD,kCAAAA,IAAC,QAAA,EAAK,WAAU,eACX,UAAA,UACK,yBACA,IAAG,iCAAQ,OAAO,WAAU,CAAC,kBAAA,CACvC;AAAA,MACAA,kCAAAA,IAAC,UAAA,EAAO,WAAU,iBAAgB,SAAS,cAAc,UAAU,CAAC,WAC/D,UAAA,UAAU,iBAAiB,SAAA,CAChC;AAAA,IAAA,EAAA,CACJ;AAAA,EAAA,GACJ;AAER;ACxEO,SAAS,aAAa;AACzB,QAAM,EAAE,QAAQ,YAAY,cAAc,UAAU,YAAY,aAAA,IAAiB,YAAA;AAEjF,MAAI,CAAC,QAAQ;AACT,WAAOA,kCAAAA,IAAC,OAAA,EAAI,WAAU,eAAc,UAAA,cAAU;AAAA,EAClD;AAEA,SACIC,kCAAAA,KAAC,OAAA,EAAI,WAAU,eACX,UAAA;AAAA,IAAAA,kCAAAA,KAAC,OAAA,EAAI,WAAU,iBACX,UAAA;AAAA,MAAAA,kCAAAA,KAAC,OAAA,EAAI,WAAU,kBACX,UAAA;AAAA,QAAAD,kCAAAA,IAAC,QAAG,UAAA,mBAAA,CAAgB;AAAA,QACpBA,kCAAAA,IAAC,YAAO,SAAS,UAAU,UAAU,OAAO,SAAS,WAAW,GAAG,UAAA,YAAA,CAEnE;AAAA,MAAA,GACJ;AAAA,MACAA,kCAAAA;AAAAA,QAAC;AAAA,QAAA;AAAA,UACG,OAAO,CAAC,GAAG,OAAO,UAAU,GAAG,OAAO,SAAS;AAAA,UAC/C,UAAU;AAAA,UACV,WAAW;AAAA,UACX,aAAY;AAAA,UACZ,QAAQ;AAAA,QAAA;AAAA,MAAA;AAAA,IACZ,GACJ;AAAA,IAEAC,kCAAAA,KAAC,OAAA,EAAI,WAAU,iBACX,UAAA;AAAA,MAAAA,kCAAAA,KAAC,OAAA,EAAI,WAAU,kBACX,UAAA;AAAA,QAAAD,kCAAAA,IAAC,QAAG,UAAA,iBAAA,CAAc;AAAA,QAClBA,kCAAAA,IAAC,YAAO,SAAS,YAAY,UAAU,OAAO,OAAO,WAAW,GAAG,UAAA,cAAA,CAEnE;AAAA,MAAA,GACJ;AAAA,MACAA,kCAAAA;AAAAA,QAAC;AAAA,QAAA;AAAA,UACG,OAAO,OAAO;AAAA,UACd,UAAU;AAAA,UACV,aAAY;AAAA,UACZ,QAAQ;AAAA,QAAA;AAAA,MAAA;AAAA,IACZ,GACJ;AAAA,0CAEC,WAAA,CAAA,CAAU;AAAA,EAAA,GACf;AAER;ACtCO,SAAS,aAAa,EAAE,SAAS,WAA8B;AAClE,QAAM,CAAC,SAAS,UAAU,IAAIF,aAAAA,SAAS,KAAK;AAC5C,QAAM,EAAE,cAAA,IAAkB,YAAA;AAE1B,QAAM,eAAe,YAAY;AAC7B,eAAW,IAAI;AACf,QAAI;AACA,YAAM,cAAc,QAAQ,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC;AAC9C,cAAA;AAAA,IACJ,SAAS,OAAO;AACZ,cAAQ,MAAM,kBAAkB,KAAK;AAAA,IACzC,UAAA;AACI,iBAAW,KAAK;AAAA,IACpB;AAAA,EACJ;AAEA,SACIE,kCAAAA,IAAC,OAAA,EAAI,WAAU,yBAAwB,SAAS,SAC5C,UAAAC,kCAAAA,KAAC,OAAA,EAAI,WAAU,iBAAgB,SAAS,CAAC,MAAM,EAAE,mBAC7C,UAAA;AAAA,IAAAD,sCAAC,OAAA,EAAI,WAAU,wBACX,UAAAC,kCAAAA,KAAC,MAAA,EAAG,UAAA;AAAA,MAAA;AAAA,MAAc,QAAQ,SAAS,IAAI,MAAM;AAAA,IAAA,EAAA,CAAG,EAAA,CACpD;AAAA,IACAA,kCAAAA,KAAC,OAAA,EAAI,WAAU,yBACX,UAAA;AAAA,MAAAA,uCAAC,KAAA,EAAE,UAAA;AAAA,QAAA;AAAA,QAEE,QAAQ,SAAS,IAAI,MAAM;AAAA,QAAG;AAAA,MAAA,GACnC;AAAA,MACAD,kCAAAA,IAAC,OAAA,EAAI,WAAU,yBACV,UAAA,QAAQ,IAAI,CAAC,WACVC,kCAAAA,KAAC,OAAA,EAAsB,WAAU,wBAC7B,UAAA;AAAA,QAAAD,kCAAAA,IAAC,QAAA,EAAK,WAAU,6BACX,UAAA,OAAO,WACZ;AAAA,QACAA,kCAAAA,IAAC,QAAA,EAAK,WAAU,gCACX,iBAAO,QAAA,CACZ;AAAA,MAAA,EAAA,GANM,OAAO,IAOjB,CACH,GACL;AAAA,MACAC,kCAAAA,KAAC,KAAA,EAAE,WAAU,sBAAqB,UAAA;AAAA,QAAA;AAAA,QACF,QAAQ,SAAS,IAAI,MAAM;AAAA,QAAG;AAAA,QACzD,QAAQ,WAAW,IAAI,OAAO;AAAA,QAAG;AAAA,MAAA,EAAA,CACtC;AAAA,IAAA,GACJ;AAAA,IACAA,kCAAAA,KAAC,OAAA,EAAI,WAAU,wBACX,UAAA;AAAA,MAAAD,sCAAC,UAAA,EAAO,SAAS,SAAS,UAAU,SAAS,UAAA,UAE7C;AAAA,MACAA,kCAAAA;AAAAA,QAAC;AAAA,QAAA;AAAA,UACG,WAAU;AAAA,UACV,SAAS;AAAA,UACT,UAAU;AAAA,UAET,oBAAU,iBAAiB;AAAA,QAAA;AAAA,MAAA;AAAA,IAChC,EAAA,CACJ;AAAA,EAAA,EAAA,CACJ,EAAA,CACJ;AAER;AChDO,MAAM,eAA4C,CAAC;AAAA,EACtD;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACJ,MAAM;AACF,QAAM,CAAC,gBAAgB,iBAAiB,IAAIF,aAAAA,SAAS,EAAE;AACvD,QAAM,CAAC,SAAS,UAAU,IAAIA,aAAAA,SAAyB,CAAA,CAAE;AACzD,QAAM,CAAC,SAAS,UAAU,IAAIA,aAAAA,SAAS,KAAK;AAC5C,QAAM,CAAC,OAAO,QAAQ,IAAIA,aAAAA,SAAwB,IAAI;AACtD,QAAM,CAAC,aAAa,cAAc,IAAIA,aAAAA,SAAS,KAAK;AAGpDC,eAAAA,UAAU,MAAM;AACZ,QAAI,CAAC,gBAAgB;AACjB,iBAAW,CAAA,CAAE;AACb;AAAA,IACJ;AAEA,UAAM,cAAc,YAAY;AAC5B,UAAI;AACA,cAAM,gBAAgB,MAAM,UAAU,KAAK,wBAAwB,cAAc;AACjF,mBAAW,aAAa;AAAA,MAC5B,SAAS,KAAK;AACV,gBAAQ,MAAM,kCAAkC,GAAG;AACnD,mBAAW,CAAA,CAAE;AAAA,MACjB;AAAA,IACJ;AAEA,gBAAA;AAAA,EACJ,GAAG,CAAC,cAAc,CAAC;AAEnB,QAAM,eAAe,YAAY;AAC7B,QAAI,CAAC,gBAAgB;AACjB,eAAS,wBAAwB;AACjC;AAAA,IACJ;AAEA,eAAW,IAAI;AACf,aAAS,IAAI;AAEb,QAAI;AACA,UAAI,eAAe,QAAQ,SAAS,GAAG;AACnC,cAAM,UAAU,KAAK,yBAAyB,gBAAgB,OAAO;AAAA,MACzE,OAAO;AACH,cAAM,UAAU,KAAK,cAAc,gBAAgB,KAAK;AAAA,MAC5D;AACA,gBAAA;AACA,cAAA;AAAA,IACJ,SAAS,KAAK;AACV,eAAU,IAAc,OAAO;AAAA,IACnC,UAAA;AACI,iBAAW,KAAK;AAAA,IACpB;AAAA,EACJ;AAEA,QAAM,qBAAqB,CAAC,OAAe,WAAyB;AAChE,UAAM,aAAa,CAAC,GAAG,OAAO;AAC9B,eAAW,KAAK,EAAE,SAAS;AAC3B,eAAW,UAAU;AAAA,EACzB;AAEA,QAAM,eAAe,CAAC,UAAkB;AACpC,QAAI,UAAU,GAAG;AACb;AAAA,IACJ;AACA,UAAM,aAAa,CAAC,GAAG,OAAO;AAC9B,KAAC,WAAW,QAAQ,CAAC,GAAG,WAAW,KAAK,CAAC,IAAI,CAAC,WAAW,KAAK,GAAG,WAAW,QAAQ,CAAC,CAAC;AACtF,eAAW,UAAU;AAAA,EACzB;AAEA,QAAM,iBAAiB,CAAC,UAAkB;AACtC,QAAI,UAAU,QAAQ,SAAS,GAAG;AAC9B;AAAA,IACJ;AACA,UAAM,aAAa,CAAC,GAAG,OAAO;AAC9B,KAAC,WAAW,KAAK,GAAG,WAAW,QAAQ,CAAC,CAAC,IAAI,CAAC,WAAW,QAAQ,CAAC,GAAG,WAAW,KAAK,CAAC;AACtF,eAAW,UAAU;AAAA,EACzB;AAEA,QAAM,oBAAoB,SAAS,OAAO,CAAC,MAAM,CAAC,EAAE,OAAO;AAE3D,SACIC,kCAAAA,IAAC,OAAA,EAAI,WAAU,yBAAwB,SAAS,SAC5C,UAAAC,kCAAAA,KAAC,OAAA,EAAI,WAAU,iBAAgB,SAAS,CAAC,MAAM,EAAE,mBAC7C,UAAA;AAAA,IAAAA,kCAAAA,KAAC,OAAA,EAAI,WAAU,wBACX,UAAA;AAAA,MAAAD,kCAAAA,IAAC,QAAG,UAAA,gBAAA,CAAa;AAAA,4CAChB,UAAA,EAAO,WAAU,gBAAe,SAAS,SAAS,UAAA,IAAA,CAEnD;AAAA,IAAA,GACJ;AAAA,IAEAC,kCAAAA,KAAC,OAAA,EAAI,WAAU,yBACV,UAAA;AAAA,MAAA,SAASD,kCAAAA,IAAC,OAAA,EAAI,WAAU,iBAAiB,UAAA,OAAM;AAAA,MAEhDC,kCAAAA,KAAC,OAAA,EAAI,WAAU,cACX,UAAA;AAAA,QAAAD,kCAAAA,IAAC,WAAM,UAAA,kBAAA,CAAe;AAAA,QACtBA,kCAAAA,IAAC,OAAA,EAAI,WAAU,kBAAkB,UAAA,cAAA,CAAc;AAAA,MAAA,GACnD;AAAA,MAEAC,kCAAAA,KAAC,OAAA,EAAI,WAAU,cACX,UAAA;AAAA,QAAAD,kCAAAA,IAAC,WAAM,UAAA,eAAA,CAAY;AAAA,QACnBC,kCAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YACG,OAAO;AAAA,YACP,UAAU,CAAC,MAAM,kBAAkB,EAAE,OAAO,KAAK;AAAA,YACjD,UAAU;AAAA,YAEV,UAAA;AAAA,cAAAD,kCAAAA,IAAC,UAAA,EAAO,OAAM,IAAG,UAAA,sBAAkB;AAAA,cAClC,kBAAkB,IAAI,CAAC,WACpBA,kCAAAA,IAAC,UAAA,EAAyB,OAAO,OAAO,MACnC,UAAA,OAAO,KAAA,GADC,OAAO,IAEpB,CACH;AAAA,YAAA;AAAA,UAAA;AAAA,QAAA;AAAA,MACL,GACJ;AAAA,MAEC,QAAQ,SAAS,KACdC,kCAAAA,KAAAC,kBAAAA,UAAA,EACI,UAAA;AAAA,QAAAF,sCAAC,OAAA,EAAI,WAAU,cACX,UAAAC,kCAAAA,KAAC,SAAA,EACG,UAAA;AAAA,UAAAD,kCAAAA;AAAAA,YAAC;AAAA,YAAA;AAAA,cACG,MAAK;AAAA,cACL,SAAS;AAAA,cACT,UAAU,CAAC,MAAM,eAAe,EAAE,OAAO,OAAO;AAAA,cAChD,UAAU;AAAA,YAAA;AAAA,UAAA;AAAA,UACZ;AAAA,QAAA,EAAA,CAEN,EAAA,CACJ;AAAA,QAEC,eACGC,kCAAAA,KAAC,OAAA,EAAI,WAAU,gBACX,UAAA;AAAA,UAAAD,sCAAC,OAAA,EAAI,WAAU,kBACX,UAAAC,kCAAAA,KAAC,QAAA,EAAK,UAAA;AAAA,YAAA;AAAA,YAAoB,QAAQ;AAAA,YAAO;AAAA,UAAA,EAAA,CAAC,EAAA,CAC9C;AAAA,UACC,QAAQ,IAAI,CAAC,QAAQ,UAClBA,uCAAC,OAAA,EAAsB,WAAU,eAC7B,UAAA;AAAA,YAAAA,kCAAAA,KAAC,OAAA,EAAI,WAAU,mBACX,UAAA;AAAA,cAAAD,kCAAAA;AAAAA,gBAAC;AAAA,gBAAA;AAAA,kBACG,WAAU;AAAA,kBACV,SAAS,MAAM,aAAa,KAAK;AAAA,kBACjC,UAAU,UAAU,KAAK;AAAA,kBACzB,OAAM;AAAA,kBACT,UAAA;AAAA,gBAAA;AAAA,cAAA;AAAA,cAGDA,kCAAAA;AAAAA,gBAAC;AAAA,gBAAA;AAAA,kBACG,WAAU;AAAA,kBACV,SAAS,MAAM,eAAe,KAAK;AAAA,kBACnC,UACI,UAAU,QAAQ,SAAS,KAAK;AAAA,kBAEpC,OAAM;AAAA,kBACT,UAAA;AAAA,gBAAA;AAAA,cAAA;AAAA,YAED,GACJ;AAAA,YACAC,kCAAAA;AAAAA,cAAC;AAAA,cAAA;AAAA,gBACG,WAAU;AAAA,gBACV,OAAO,OAAO;AAAA,gBACd,UAAU,CAAC,MACP;AAAA,kBACI;AAAA,kBACA,EAAE,OAAO;AAAA,gBAAA;AAAA,gBAGjB,UAAU;AAAA,gBAEV,UAAA;AAAA,kBAAAD,kCAAAA,IAAC,UAAA,EAAO,OAAM,QAAO,UAAA,QAAI;AAAA,kBACzBA,kCAAAA,IAAC,UAAA,EAAO,OAAM,UAAS,UAAA,UAAM;AAAA,kBAC7BA,kCAAAA,IAAC,UAAA,EAAO,OAAM,QAAO,UAAA,QAAI;AAAA,kBACzBA,kCAAAA,IAAC,UAAA,EAAO,OAAM,UAAS,UAAA,UAAM;AAAA,kBAC7BA,kCAAAA,IAAC,UAAA,EAAO,OAAM,SAAQ,UAAA,SAAK;AAAA,kBAC3BA,kCAAAA,IAAC,UAAA,EAAO,OAAM,QAAO,UAAA,OAAA,CAAI;AAAA,gBAAA;AAAA,cAAA;AAAA,YAAA;AAAA,YAE7BA,kCAAAA,IAAC,QAAA,EAAK,WAAU,eAAe,iBAAO,WAAU;AAAA,YAChDA,kCAAAA,IAAC,QAAA,EAAK,WAAU,kBAAkB,iBAAO,QAAA,CAAQ;AAAA,UAAA,EAAA,GAxC3C,OAAO,IAyCjB,CACH;AAAA,QAAA,GACL;AAAA,QAGH,CAAC,eACEC,kCAAAA,KAAC,OAAA,EAAI,WAAU,gBACV,UAAA;AAAA,UAAA,QAAQ;AAAA,UAAO;AAAA,UAAQ,QAAQ,WAAW,IAAI,MAAM;AAAA,UAAG;AAAA,QAAA,EAAA,CAE5D;AAAA,MAAA,EAAA,CAER;AAAA,IAAA,GAER;AAAA,IAEAA,kCAAAA,KAAC,OAAA,EAAI,WAAU,wBACX,UAAA;AAAA,MAAAD,kCAAAA;AAAAA,QAAC;AAAA,QAAA;AAAA,UACG,WAAU;AAAA,UACV,SAAS;AAAA,UACT,UAAU;AAAA,UACb,UAAA;AAAA,QAAA;AAAA,MAAA;AAAA,MAGDA,kCAAAA;AAAAA,QAAC;AAAA,QAAA;AAAA,UACG,WAAU;AAAA,UACV,SAAS;AAAA,UACT,UAAU,CAAC,kBAAkB;AAAA,UAE5B,oBAAU,gBAAgB;AAAA,QAAA;AAAA,MAAA;AAAA,IAC/B,EAAA,CACJ;AAAA,EAAA,EAAA,CACJ,EAAA,CACJ;AAER;AC7NO,MAAM,mBAAoD,CAAC;AAAA,EAC9D;AAAA,EACA;AAAA,EACA;AACJ,MAAM;AACF,QAAM,CAAC,SAAS,UAAU,IAAIF,aAAAA,SAAS,KAAK;AAC5C,QAAM,CAAC,OAAO,QAAQ,IAAIA,aAAAA,SAAwB,IAAI;AAEtD,QAAM,mBAAmB,YAAY;AACjC,eAAW,IAAI;AACf,aAAS,IAAI;AAEb,QAAI;AACA,YAAM,SAAS,QAAQ,IAAI,CAAC,MAAM,EAAE,IAAI;AACxC,YAAM,UAAU,KAAK,kBAAkB,MAAM;AAC7C,gBAAA;AACA,cAAA;AAAA,IACJ,SAAS,KAAK;AACV,eAAU,IAAc,OAAO;AAAA,IACnC,UAAA;AACI,iBAAW,KAAK;AAAA,IACpB;AAAA,EACJ;AAEA,SACIE,kCAAAA,IAAC,OAAA,EAAI,WAAU,8BAA6B,SAAS,SACjD,UAAAC,kCAAAA,KAAC,OAAA,EAAI,WAAU,sBAAqB,SAAS,CAAC,MAAM,EAAE,mBAClD,UAAA;AAAA,IAAAA,kCAAAA,KAAC,OAAA,EAAI,WAAU,6BACX,UAAA;AAAA,MAAAD,kCAAAA,IAAC,QAAG,UAAA,sBAAA,CAAmB;AAAA,4CACtB,UAAA,EAAO,WAAU,gBAAe,SAAS,SAAS,UAAA,IAAA,CAEnD;AAAA,IAAA,GACJ;AAAA,IAEAC,kCAAAA,KAAC,OAAA,EAAI,WAAU,8BACV,UAAA;AAAA,MAAA,SAASD,kCAAAA,IAAC,OAAA,EAAI,WAAU,iBAAiB,UAAA,OAAM;AAAA,MAEhDC,kCAAAA,KAAC,OAAA,EAAI,WAAU,gBAAe,UAAA;AAAA,QAAA;AAAA,QACY,QAAQ;AAAA,QAAO;AAAA,QACpD,QAAQ,WAAW,IAAI,MAAM;AAAA,QAAG;AAAA,MAAA,GACrC;AAAA,MAEAD,kCAAAA,IAAC,OAAA,EAAI,WAAU,gBACV,UAAA,QAAQ,IAAI,CAAC,WACVC,kCAAAA,KAAC,OAAA,EAAsB,WAAU,eAC7B,UAAA;AAAA,QAAAD,kCAAAA,IAAC,QAAA,EAAK,WAAU,eAAe,UAAA,OAAO,WAAU;AAAA,QAChDA,kCAAAA,IAAC,QAAA,EAAK,WAAU,kBAAkB,iBAAO,SAAQ;AAAA,QACjDA,kCAAAA,IAAC,QAAA,EAAK,WAAU,iBAAiB,iBAAO,OAAA,CAAO;AAAA,MAAA,EAAA,GAHzC,OAAO,IAIjB,CACH,GACL;AAAA,MAEAA,kCAAAA,IAAC,OAAA,EAAI,WAAU,mBAAkB,UAAA,oEAAA,CAEjC;AAAA,IAAA,GACJ;AAAA,IAEAC,kCAAAA,KAAC,OAAA,EAAI,WAAU,6BACX,UAAA;AAAA,MAAAD,kCAAAA;AAAAA,QAAC;AAAA,QAAA;AAAA,UACG,WAAU;AAAA,UACV,SAAS;AAAA,UACT,UAAU;AAAA,UACb,UAAA;AAAA,QAAA;AAAA,MAAA;AAAA,MAGDA,kCAAAA;AAAAA,QAAC;AAAA,QAAA;AAAA,UACG,WAAU;AAAA,UACV,SAAS;AAAA,UACT,UAAU;AAAA,UAET,oBAAU,sBAAsB;AAAA,QAAA;AAAA,MAAA;AAAA,IACrC,EAAA,CACJ;AAAA,EAAA,EAAA,CACJ,EAAA,CACJ;AAER;ACxEO,SAAS,WAAW,EAAE,SAAS,UAAU,iBAAkC;AAC9E,QAAM,EAAE,iBAAiB,aAAA,IAAiB,YAAA;AAC1C,QAAM,CAAC,kBAAkB,mBAAmB,IAAIF,aAAAA,SAAS,KAAK;AAC9D,QAAM,CAAC,kBAAkB,mBAAmB,IAAIA,aAAAA,SAAS,KAAK;AAC9D,QAAM,CAAC,sBAAsB,uBAAuB,IAAIA,aAAAA,SAAS,KAAK;AACtE,QAAM,CAAC,aAAa,cAAc,IAAIA,aAAAA,SAI5B,IAAI;AAEd,QAAM,oBAAoB,CAAC,MAAc,UAA4B;AACjE,UAAM,QAAQ,MAAM,WAAW,MAAM;AACrC,iBAAa,MAAM,KAAK;AAAA,EAC5B;AAEA,QAAM,oBAAoB,CAAC,OAAyB,WAAuB;AACvE,UAAM,eAAA;AACN,mBAAe,EAAE,GAAG,MAAM,SAAS,GAAG,MAAM,SAAS,QAAQ;AAAA,EACjE;AAEA,QAAM,eAAe,MAAM;AACvB,wBAAoB,IAAI;AACxB,mBAAe,IAAI;AAAA,EACvB;AAEA,QAAM,eAAe,MAAM;AACvB,wBAAoB,IAAI;AACxB,mBAAe,IAAI;AAAA,EACvB;AAEA,QAAM,mBAAmB,MAAM;AAC3B,4BAAwB,IAAI;AAC5B,mBAAe,IAAI;AAAA,EACvB;AAEA,QAAM,aAAa,CAAC,SAAe;AAC/B,UAAM,IAAI,IAAI,KAAK,IAAI;AACvB,UAAM,0BAAU,KAAA;AAChB,UAAM,OAAO,IAAI,QAAA,IAAY,EAAE,QAAA;AAC/B,UAAM,OAAO,KAAK,MAAM,QAAQ,MAAO,KAAK,KAAK,GAAG;AAEpD,QAAI,SAAS,GAAG;AACZ,YAAM,QAAQ,KAAK,MAAM,QAAQ,MAAO,KAAK,GAAG;AAChD,UAAI,UAAU,GAAG;AACb,cAAM,UAAU,KAAK,MAAM,QAAQ,MAAO,GAAG;AAC7C,eAAO,GAAG,OAAO,UAAU,YAAY,IAAI,MAAM,EAAE;AAAA,MACvD;AACA,aAAO,GAAG,KAAK,QAAQ,UAAU,IAAI,MAAM,EAAE;AAAA,IACjD,WAAW,SAAS,GAAG;AACnB,aAAO;AAAA,IACX,WAAW,OAAO,GAAG;AACjB,aAAO,GAAG,IAAI;AAAA,IAClB,OAAO;AACH,aAAO,EAAE,mBAAA;AAAA,IACb;AAAA,EACJ;AAEA,QAAM,2BAA2B,MAAM;AACnC,WAAO,QAAQ,OAAO,CAAC,MAAM,gBAAgB,SAAS,EAAE,IAAI,CAAC;AAAA,EACjE;AAEA,MAAI,QAAQ,WAAW,GAAG;AACtB,WAAOE,kCAAAA,IAAC,OAAA,EAAI,WAAU,qBAAoB,UAAA,kBAAc;AAAA,EAC5D;AAEA,SACIC,kCAAAA,KAAAC,4BAAA,EACI,UAAA;AAAA,IAAAF,kCAAAA,IAAC,OAAA,EAAI,WAAU,eAAc,SAAS,MAAM,eAAe,IAAI,GAC1D,UAAA,QAAQ,IAAI,CAAC,WACVC,kCAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QAEG,WAAW,eAAe,gBAAgB,SAAS,OAAO,IAAI,IAAI,aAAa,EAAE,IAAI,OAAO,SAAS,SAAS,EAAE;AAAA,QAChH,SAAS,CAAC,MAAM,kBAAkB,OAAO,MAAM,CAAC;AAAA,QAChD,eAAe,CAAC,MAAM,kBAAkB,GAAG,MAAM;AAAA,QAEjD,UAAA;AAAA,UAAAA,kCAAAA,KAAC,OAAA,EAAI,WAAU,gBACX,UAAA;AAAA,YAAAD,kCAAAA,IAAC,OAAA,EAAI,WAAU,aAAA,CAAa;AAAA,YAC5BA,kCAAAA,IAAC,OAAA,EAAI,WAAU,cAAA,CAAc;AAAA,UAAA,GACjC;AAAA,UACAC,kCAAAA,KAAC,OAAA,EAAI,WAAU,kBACX,UAAA;AAAA,YAAAD,kCAAAA,IAAC,OAAA,EAAI,WAAU,kBAAkB,UAAA,OAAO,SAAQ;AAAA,YAChDC,kCAAAA,KAAC,OAAA,EAAI,WAAU,eACX,UAAA;AAAA,cAAAD,kCAAAA,IAAC,QAAA,EAAK,WAAU,iBAAiB,UAAA,OAAO,QAAO;AAAA,cAC/CA,kCAAAA,IAAC,QAAA,EAAK,WAAU,oBAAmB,UAAA,KAAC;AAAA,cACpCA,kCAAAA,IAAC,QAAA,EAAK,WAAU,eAAe,iBAAO,WAAU;AAAA,cAChDA,kCAAAA,IAAC,QAAA,EAAK,WAAU,oBAAmB,UAAA,KAAC;AAAA,oDACnC,QAAA,EAAK,WAAU,eAAe,UAAA,WAAW,OAAO,IAAI,EAAA,CAAE;AAAA,YAAA,GAC3D;AAAA,YACC,OAAO,KAAK,SAAS,2CACjB,OAAA,EAAI,WAAU,eACV,UAAA,OAAO,KAAK,IAAI,CAAC,8CACb,QAAA,EAAe,WAAU,cACrB,UAAA,OADM,GAEX,CACH,EAAA,CACL;AAAA,UAAA,EAAA,CAER;AAAA,QAAA;AAAA,MAAA;AAAA,MA3BK,OAAO;AAAA,IAAA,CA6BnB,GACL;AAAA,IAEC,eACGC,kCAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACG,WAAU;AAAA,QACV,OAAO,EAAE,KAAK,YAAY,GAAG,MAAM,YAAY,EAAA;AAAA,QAC/C,SAAS,CAAC,MAAM,EAAE,gBAAA;AAAA,QAElB,UAAA;AAAA,UAAAA,kCAAAA,KAAC,OAAA,EAAI,WAAU,4BAA2B,SAAS,kBAAkB,UAAA;AAAA,YAAA;AAAA,YAC9C,gBAAgB,SAAS,IAAI,MAAM;AAAA,UAAA,GAC1D;AAAA,UACAA,kCAAAA,KAAC,OAAA,EAAI,WAAU,4BAA2B,SAAS,cAAc,UAAA;AAAA,YAAA;AAAA,YAC/C,gBAAgB,SAAS,IAAI,MAAM;AAAA,UAAA,GACrD;AAAA,gDACC,OAAA,EAAI,WAAU,4BAA2B,SAAS,cAAc,UAAA,0BAAA,CAEjE;AAAA,QAAA;AAAA,MAAA;AAAA,IAAA;AAAA,IAIP,oBACGD,kCAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACG,SAAS,yBAAA;AAAA,QACT,SAAS,MAAM,oBAAoB,KAAK;AAAA,MAAA;AAAA,IAAA;AAAA,IAI/C,oBACGA,kCAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACG;AAAA,QACA;AAAA,QACA,SAAS,MAAM,oBAAoB,KAAK;AAAA,QACxC,WAAW,MAAM;AACb,8BAAoB,KAAK;AAAA,QAC7B;AAAA,MAAA;AAAA,IAAA;AAAA,IAIP,wBACGA,kCAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACG,SAAS,yBAAA;AAAA,QACT,SAAS,MAAM,wBAAwB,KAAK;AAAA,QAC5C,WAAW,MAAM;AACb,kCAAwB,KAAK;AAAA,QACjC;AAAA,MAAA;AAAA,IAAA;AAAA,EACJ,GAER;AAER;AClJO,MAAM,kBAAkB;AAAA,EAAxB;AACc,sCAAa;AACb;AAAA,wCAAe;AACf;AAAA,uCAAc;AACd;AAAA,0CAAiB;AACjB;AAAA,qCAAY;AAErB;AAAA,2DAAkB,IAAA;AAElB,kCAAS;AAAA,MACb;AAAA;AAAA,MACA;AAAA;AAAA,MACA;AAAA;AAAA,MACA;AAAA;AAAA,MACA;AAAA;AAAA,MACA;AAAA;AAAA,MACA;AAAA;AAAA,MACA;AAAA;AAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMJ,gBAAgB,SAAqC;AACjD,QAAI,QAAQ,WAAW,GAAG;AACtB,aAAO,EAAE,OAAO,oBAAI,OAAO,OAAO,CAAA,GAAI,OAAO,GAAG,QAAQ,EAAA;AAAA,IAC5D;AAGA,UAAM,WAAW,KAAK,YAAY,OAAO;AAGzC,UAAM,SAAS,KAAK,YAAY,IAAI,QAAQ;AAC5C,QAAI,UAAU,KAAK,IAAA,IAAQ,OAAO,YAAY,KAAK,WAAW;AAC1D,aAAO;AACP,aAAO,OAAO;AAAA,IAClB;AAGA,UAAM,SAAS,KAAK,wBAAwB,OAAO;AAGnD,SAAK,YAAY,UAAU,MAAM;AAEjC,WAAO;AAAA,EACX;AAAA;AAAA;AAAA;AAAA,EAKQ,wBAAwB,SAAqC;AAEjE,UAAM,cAAc,KAAK,iBAAiB,OAAO;AAGjD,UAAM,kBAAkB,KAAK,YAAY,SAAS,WAAW;AAG7D,UAAM,QAAQ,KAAK,uBAAuB,SAAS,eAAe;AAGlE,UAAM,QAAQ,KAAK,eAAe,SAAS,KAAK;AAGhD,UAAM,QAAQ,KAAK,IAAI,GAAG,MAAM,KAAK,gBAAgB,QAAQ,CAAC,IAAI;AAClE,UAAM,SAAS,QAAQ,SAAS,KAAK;AAErC,WAAO,EAAE,OAAO,OAAO,OAAO,OAAA;AAAA,EAClC;AAAA;AAAA;AAAA;AAAA,EAKQ,YAAY,SAA+B;AAG/C,UAAM,QAAQ,QAAQ,MAAM,GAAG,KAAK,IAAI,IAAI,QAAQ,MAAM,CAAC;AAC3D,UAAM,MAAM,QAAQ,MAAM,KAAK,IAAI,GAAG,QAAQ,SAAS,EAAE,CAAC;AAC1D,UAAM,SAAS,CAAC,GAAG,OAAO,GAAG,GAAG,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI;AACnD,WAAO,GAAG,QAAQ,MAAM,IAAI,OAAO,KAAK,GAAG,CAAC;AAAA,EAChD;AAAA;AAAA;AAAA;AAAA,EAKQ,YAAY,KAAa,QAA4B;AAEzD,QAAI,KAAK,YAAY,QAAQ,KAAK,gBAAgB;AAC9C,WAAK,SAAA;AAAA,IACT;AAEA,SAAK,YAAY,IAAI,KAAK;AAAA,MACtB;AAAA,MACA,WAAW,KAAK,IAAA;AAAA,MAChB,aAAa;AAAA,IAAA,CAChB;AAAA,EACL;AAAA;AAAA;AAAA;AAAA,EAKQ,WAAiB;AACrB,QAAI,YAA2B;AAC/B,QAAI,cAAc;AAIlB,eAAW,CAAC,KAAK,KAAK,KAAK,KAAK,YAAY,WAAW;AACnD,YAAM,QAAQ,MAAM,YAAY,KAAK,IAAI,GAAG,MAAM,WAAW;AAC7D,UAAI,QAAQ,aAAa;AACrB,sBAAc;AACd,oBAAY;AAAA,MAChB;AAAA,IACJ;AAEA,QAAI,WAAW;AACX,WAAK,YAAY,OAAO,SAAS;AAAA,IACrC;AAAA,EACJ;AAAA;AAAA;AAAA;AAAA,EAKA,aAAmB;AACf,SAAK,YAAY,MAAA;AAAA,EACrB;AAAA;AAAA;AAAA;AAAA,EAKA,gBAAoE;AAChE,QAAI,cAAc;AAClB,QAAI,YAAY;AAEhB,eAAW,SAAS,KAAK,YAAY,OAAA,GAAU;AAC3C,qBAAe,MAAM;AACrB,UAAI,MAAM,cAAc,GAAG;AACvB,qBAAa,MAAM,cAAc;AAAA,MACrC;AAAA,IACJ;AAEA,WAAO;AAAA,MACH,MAAM,KAAK,YAAY;AAAA,MACvB,SAAS,KAAK;AAAA,MACd,SAAS,cAAc,IAAI,YAAY,cAAc;AAAA,IAAA;AAAA,EAE7D;AAAA;AAAA;AAAA;AAAA,EAKQ,iBAAiB,SAAkD;AACvE,UAAM,kCAAkB,IAAA;AAGxB,eAAW,UAAU,SAAS;AAC1B,iBAAW,UAAU,OAAO,SAAS;AACjC,YAAI,WAAW,YAAY,IAAI,MAAM;AACrC,YAAI,CAAC,UAAU;AACX,qBAAW,CAAA;AACX,sBAAY,IAAI,QAAQ,QAAQ;AAAA,QACpC;AACA,iBAAS,KAAK,MAAM;AAAA,MACxB;AAAA,IACJ;AAEA,WAAO;AAAA,EACX;AAAA;AAAA;AAAA;AAAA;AAAA,EAMQ,YACJ,SACA,aACmB;AACnB,UAAM,sCAAsB,IAAA;AAC5B,UAAM,kCAAkB,IAAA;AACxB,UAAM,kCAAkB,IAAA;AAGxB,YAAQ,QAAQ,CAAC,QAAQ,UAAU;AAC/B,kBAAY,IAAI,OAAO,MAAM,KAAK;AAAA,IACtC,CAAC;AAED,aAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;AACrC,YAAM,SAAS,QAAQ,CAAC;AAGxB,UAAI,eAA8B;AAElC,UAAI,OAAO,QAAQ,SAAS,GAAG;AAC3B,cAAM,cAAc,OAAO,QAAQ,CAAC;AACpC,cAAM,aAAa,gBAAgB,IAAI,WAAW;AAElD,YAAI,eAAe,UAAa,CAAC,YAAY,IAAI,UAAU,GAAG;AAC1D,yBAAe;AAAA,QACnB;AAAA,MACJ;AAGA,UAAI,iBAAiB,MAAM;AAEvB,uBAAe;AACf,eAAO,YAAY,IAAI,YAAY,GAAG;AAClC;AAAA,QACJ;AAAA,MACJ;AAEA,sBAAgB,IAAI,OAAO,MAAM,YAAY;AAC7C,kBAAY,IAAI,cAAc,OAAO,IAAI;AAIzC,YAAM,WAAW,YAAY,IAAI,OAAO,IAAI;AAC5C,UAAI,UAAU;AACV,cAAM,uBAAuB,SAAS,MAAM,CAAC,UAAU;AACnD,gBAAM,WAAW,YAAY,IAAI,MAAM,IAAI;AAC3C,iBAAO,aAAa,UAAa,YAAY;AAAA,QACjD,CAAC;AAED,YAAI,sBAAsB;AACtB,gBAAM,aAAa,YAAY,IAAI,YAAY;AAC/C,cAAI,eAAe,OAAO,MAAM;AAC5B,wBAAY,OAAO,YAAY;AAAA,UACnC;AAAA,QACJ;AAAA,MACJ,OAAO;AAEH,cAAM,aAAa,YAAY,IAAI,YAAY;AAC/C,YAAI,eAAe,OAAO,MAAM;AAC5B,sBAAY,OAAO,YAAY;AAAA,QACnC;AAAA,MACJ;AAAA,IACJ;AAEA,WAAO;AAAA,EACX;AAAA;AAAA;AAAA;AAAA,EAKQ,uBACJ,SACA,iBACsB;AACtB,UAAM,4BAAY,IAAA;AAElB,YAAQ,QAAQ,CAAC,QAAQ,UAAU;AAC/B,YAAM,OAAO,gBAAgB,IAAI,OAAO,IAAI,KAAK;AACjD,YAAM,QAAQ,KAAK,OAAO,OAAO,KAAK,OAAO,MAAM;AAEnD,YAAM,IAAI,OAAO,MAAM;AAAA,QACnB;AAAA,QACA,GAAG,OAAO,KAAK,eAAe,KAAK,eAAe;AAAA,QAClD,GAAG,QAAQ,KAAK,aAAa,KAAK,aAAa;AAAA,QAC/C;AAAA,QACA;AAAA,MAAA,CACH;AAAA,IACL,CAAC;AAED,WAAO;AAAA,EACX;AAAA;AAAA;AAAA;AAAA,EAKQ,eAAe,SAAuB,OAA4C;AACtF,UAAM,QAAqB,CAAA;AAE3B,eAAW,UAAU,SAAS;AAC1B,YAAM,WAAW,MAAM,IAAI,OAAO,IAAI;AACtC,UAAI,CAAC,UAAU;AACX;AAAA,MACJ;AAEA,iBAAW,cAAc,OAAO,SAAS;AACrC,cAAM,SAAS,MAAM,IAAI,UAAU;AACnC,YAAI,CAAC,QAAQ;AACT;AAAA,QACJ;AAGA,cAAM,OAAO,KAAK,kBAAkB,UAAU,MAAM;AAEpD,cAAM,KAAK;AAAA,UACP,MAAM,OAAO;AAAA,UACb,IAAI;AAAA,UACJ;AAAA,UACA,OAAO,SAAS;AAAA,QAAA,CACnB;AAAA,MACL;AAAA,IACJ;AAEA,WAAO;AAAA,EACX;AAAA;AAAA;AAAA;AAAA,EAKQ,kBAAkB,MAAiB,IAAwB;AAC/D,UAAM,OAAgB,CAAA;AAGtB,SAAK,KAAK,EAAE,GAAG,KAAK,GAAG,GAAG,KAAK,GAAG;AAGlC,QAAI,KAAK,MAAM,GAAG,GAAG;AACjB,WAAK,KAAK,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;AAC9B,aAAO;AAAA,IACX;AAGA,UAAM,QAAQ,KAAK,IAAI,GAAG,KAAK;AAG/B,SAAK,KAAK,EAAE,GAAG,KAAK,GAAG,GAAG,MAAM;AAChC,SAAK,KAAK,EAAE,GAAG,GAAG,GAAG,GAAG,MAAM;AAC9B,SAAK,KAAK,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;AAE9B,WAAO;AAAA,EACX;AAAA;AAAA;AAAA;AAAA,EAKA,SAAS,MAAsB;AAC3B,WAAO,KAAK,OAAO,OAAO,KAAK,OAAO,MAAM;AAAA,EAChD;AAAA;AAAA;AAAA;AAAA,EAKA,YAAY;AACR,WAAO;AAAA,MACH,WAAW,KAAK;AAAA,MAChB,aAAa,KAAK;AAAA,MAClB,YAAY,KAAK;AAAA,MACjB,QAAQ,KAAK;AAAA,IAAA;AAAA,EAErB;AACJ;AAEO,MAAM,oBAAoB,IAAI,kBAAA;ACrW9B,MAAM,eAAe;AAAA,EAMxB,YAAoB,QAA2B;AALvC;AACA,iCAAgB;AAChB,mCAAkB;AAClB,mCAAkB;AAEN,SAAA,SAAA;AAChB,UAAM,MAAM,OAAO,WAAW,IAAI;AAClC,QAAI,CAAC,KAAK;AACN,YAAM,IAAI,MAAM,0BAA0B;AAAA,IAC9C;AACA,SAAK,MAAM;AACX,SAAK,YAAA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKQ,cAAoB;AACxB,UAAM,MAAM,OAAO,oBAAoB;AACvC,UAAM,OAAO,KAAK,OAAO,sBAAA;AAEzB,SAAK,OAAO,QAAQ,KAAK,QAAQ;AACjC,SAAK,OAAO,SAAS,KAAK,SAAS;AAEnC,SAAK,IAAI,MAAM,KAAK,GAAG;AACvB,SAAK,OAAO,MAAM,QAAQ,GAAG,KAAK,KAAK;AACvC,SAAK,OAAO,MAAM,SAAS,GAAG,KAAK,MAAM;AAAA,EAC7C;AAAA;AAAA;AAAA;AAAA,EAKA,QAAc;AACV,UAAM,OAAO,KAAK,OAAO,sBAAA;AACzB,SAAK,IAAI,UAAU,GAAG,GAAG,KAAK,OAAO,KAAK,MAAM;AAAA,EACpD;AAAA;AAAA;AAAA;AAAA,EAKA,OACI,OACA,OACA,qCAAkC,IAAA,GAClC,cAA6B,MACzB;AACJ,SAAK,MAAA;AAGL,SAAK,IAAI,KAAA;AACT,SAAK,IAAI,UAAU,KAAK,SAAS,KAAK,OAAO;AAC7C,SAAK,IAAI,MAAM,KAAK,OAAO,KAAK,KAAK;AAGrC,eAAW,QAAQ,OAAO;AACtB,WAAK,SAAS,IAAI;AAAA,IACtB;AAGA,eAAW,QAAQ,MAAM,UAAU;AAC/B,YAAM,aAAa,eAAe,IAAI,KAAK,OAAO,IAAI;AACtD,YAAM,YAAY,KAAK,OAAO,SAAS;AACvC,WAAK,SAAS,MAAM,YAAY,SAAS;AAAA,IAC7C;AAEA,SAAK,IAAI,QAAA;AAAA,EACb;AAAA;AAAA;AAAA;AAAA,EAKQ,SAAS,MAAuB;AACpC,QAAI,KAAK,KAAK,SAAS,GAAG;AACtB;AAAA,IACJ;AAEA,SAAK,IAAI,UAAA;AACT,SAAK,IAAI,cAAc,KAAK;AAC5B,SAAK,IAAI,YAAY;AACrB,SAAK,IAAI,UAAU;AACnB,SAAK,IAAI,WAAW;AAGpB,SAAK,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE,GAAG,KAAK,KAAK,CAAC,EAAE,CAAC;AAG9C,QAAI,KAAK,KAAK,WAAW,GAAG;AACxB,WAAK,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE,GAAG,KAAK,KAAK,CAAC,EAAE,CAAC;AAAA,IAClD,OAAO;AAEH,eAAS,IAAI,GAAG,IAAI,KAAK,KAAK,SAAS,GAAG,KAAK,GAAG;AAC9C,cAAM,MAAM,KAAK,KAAK,CAAC;AACvB,cAAM,MAAM,KAAK,KAAK,IAAI,CAAC;AAC3B,cAAM,MAAM,KAAK,KAAK,IAAI,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,SAAS,CAAC;AAE9D,aAAK,IAAI,cAAc,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC;AAAA,MACnE;AAAA,IACJ;AAEA,SAAK,IAAI,OAAA;AAAA,EACb;AAAA;AAAA;AAAA;AAAA,EAKQ,SAAS,MAAiB,YAAqB,WAA0B;AAC7E,UAAM,SAAS;AAGf,SAAK,IAAI,UAAA;AACT,SAAK,IAAI,IAAI,KAAK,GAAG,KAAK,GAAG,QAAQ,GAAG,KAAK,KAAK,CAAC;AACnD,SAAK,IAAI,YAAY,KAAK;AAC1B,SAAK,IAAI,KAAA;AAGT,QAAI,KAAK,OAAO,QAAQ;AACpB,WAAK,IAAI,UAAA;AACT,WAAK,IAAI,IAAI,KAAK,GAAG,KAAK,GAAG,SAAS,GAAG,GAAG,KAAK,KAAK,CAAC;AACvD,WAAK,IAAI,cAAc,KAAK;AAC5B,WAAK,IAAI,YAAY;AACrB,WAAK,IAAI,OAAA;AAAA,IACb;AAGA,QAAI,YAAY;AACZ,WAAK,IAAI,UAAA;AACT,WAAK,IAAI,IAAI,KAAK,GAAG,KAAK,GAAG,SAAS,GAAG,GAAG,KAAK,KAAK,CAAC;AACvD,WAAK,IAAI,cAAc;AACvB,WAAK,IAAI,YAAY;AACrB,WAAK,IAAI,OAAA;AAAA,IACb;AAGA,QAAI,WAAW;AACX,WAAK,IAAI,UAAA;AACT,WAAK,IAAI,IAAI,KAAK,GAAG,KAAK,GAAG,SAAS,GAAG,GAAG,KAAK,KAAK,CAAC;AACvD,WAAK,IAAI,cAAc;AACvB,WAAK,IAAI,YAAY;AACrB,WAAK,IAAI,OAAA;AAAA,IACb;AAGA,QAAI,KAAK,OAAO,KAAK,SAAS,GAAG;AAC7B,WAAK,SAAS,IAAI;AAAA,IACtB;AAAA,EACJ;AAAA;AAAA;AAAA;AAAA,EAKQ,SAAS,MAAuB;AACpC,UAAM,OAAO,KAAK,OAAO;AACzB,QAAI,UAAU,KAAK,IAAI;AACvB,UAAM,IAAI,KAAK;AAEf,eAAW,OAAO,MAAM;AAEpB,UAAI,UAAU;AACd,UAAI,YAAY;AAEhB,UAAI,IAAI,SAAS,MAAM,GAAG;AACtB,kBAAU;AAAA,MACd,WAAW,IAAI,WAAW,MAAM,GAAG;AAC/B,kBAAU;AACV,oBAAY;AAAA,MAChB,WAAW,IAAI,SAAS,SAAS,GAAG;AAChC,kBAAU;AAAA,MACd;AAGA,YAAM,OAAO,IAAI,QAAQ,SAAS,EAAE;AACpC,WAAK,IAAI,OAAO;AAChB,YAAM,UAAU,KAAK,IAAI,YAAY,IAAI;AACzC,YAAM,UAAU;AAChB,YAAM,QAAQ,QAAQ,QAAQ,UAAU;AACxC,YAAM,SAAS;AAEf,WAAK,IAAI,YAAY;AACrB,WAAK,IAAI,SAAS,SAAS,IAAI,SAAS,GAAG,OAAO,MAAM;AAGxD,WAAK,IAAI,YAAY;AACrB,WAAK,IAAI,YAAY;AACrB,WAAK,IAAI,eAAe;AACxB,WAAK,IAAI,SAAS,MAAM,UAAU,SAAS,CAAC;AAE5C,iBAAW,QAAQ;AAAA,IACvB;AAAA,EACJ;AAAA;AAAA;AAAA;AAAA,EAKA,SAAS,OAAqB;AAC1B,SAAK,QAAQ,KAAK,IAAI,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC;AAAA,EACjD;AAAA;AAAA;AAAA;AAAA,EAKA,UAAU,GAAW,GAAiB;AAClC,SAAK,UAAU;AACf,SAAK,UAAU;AAAA,EACnB;AAAA;AAAA;AAAA;AAAA,EAKA,kBAAkB,GAAW,GAAW,OAAiD;AAErF,UAAM,gBAAgB,IAAI,KAAK,WAAW,KAAK;AAC/C,UAAM,gBAAgB,IAAI,KAAK,WAAW,KAAK;AAE/C,UAAM,SAAS;AAEf,eAAW,QAAQ,MAAM,UAAU;AAC/B,YAAM,KAAK,eAAe,KAAK;AAC/B,YAAM,KAAK,eAAe,KAAK;AAC/B,YAAM,WAAW,KAAK,KAAK,KAAK,KAAK,KAAK,EAAE;AAE5C,UAAI,YAAY,SAAS,GAAG;AACxB,eAAO;AAAA,MACX;AAAA,IACJ;AAEA,WAAO;AAAA,EACX;AAAA;AAAA;AAAA;AAAA,EAKA,SAAe;AACX,SAAK,YAAA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKA,UAAgB;AAEZ,SAAK,MAAA;AAAA,EACT;AACJ;AC5OO,MAAM,cAA0C,CAAC;AAAA,EACpD;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACJ,MAAM;AACF,QAAM,YAAYG,aAAAA,OAA0B,IAAI;AAChD,QAAM,cAAcA,aAAAA,OAA8B,IAAI;AACtD,QAAM,CAAC,aAAa,cAAc,IAAIL,aAAAA,SAAwB,IAAI;AAClE,QAAM,CAAC,QAAQ,SAAS,IAAIA,aAAAA,SAKlB,IAAI;AAGdC,eAAAA,UAAU,MAAM;AACZ,QAAI,QAAQ,WAAW,GAAG;AACtB,gBAAU,IAAI;AACd;AAAA,IACJ;AAEA,UAAM,YAAY,kBAAkB,gBAAgB,OAAO;AAC3D,cAAU,SAAS;AAAA,EACvB,GAAG,CAAC,OAAO,CAAC;AAGZA,eAAAA,UAAU,MAAM;AACZ,QAAI,CAAC,UAAU,SAAS;AACpB;AAAA,IACJ;AAEA,gBAAY,UAAU,IAAI,eAAe,UAAU,OAAO;AAE1D,UAAM,eAAe,MAAM;;AACvB,wBAAY,YAAZ,mBAAqB;AACrB,kBAAA;AAAA,IACJ;AAEA,WAAO,iBAAiB,UAAU,YAAY;AAE9C,WAAO,MAAM;;AACT,aAAO,oBAAoB,UAAU,YAAY;AACjD,wBAAY,YAAZ,mBAAqB;AAAA,IACzB;AAAA,EACJ,GAAG,CAAA,CAAE;AAGL,QAAM,cAAc,MAAM;AACtB,QAAI,CAAC,UAAU,CAAC,YAAY,SAAS;AACjC;AAAA,IACJ;AAEA,UAAM,cAAc,IAAI,IAAI,cAAc;AAC1C,gBAAY,QAAQ,OAAO,OAAO,OAAO,OAAO,OAAO,aAAa,WAAW;AAAA,EACnF;AAGAA,eAAAA,UAAU,MAAM;AACZ,gBAAA;AAAA,EACJ,GAAG,CAAC,QAAQ,gBAAgB,WAAW,CAAC;AAGxC,QAAM,kBAAkB,CAAC,MAA2C;AAChE,QAAI,CAAC,UAAU,CAAC,YAAY,SAAS;AACjC;AAAA,IACJ;AAEA,UAAM,OAAO,UAAU,QAAS,sBAAA;AAChC,UAAM,IAAI,EAAE,UAAU,KAAK;AAC3B,UAAM,IAAI,EAAE,UAAU,KAAK;AAE3B,UAAM,OAAO,YAAY,QAAQ,kBAAkB,GAAG,GAAG,OAAO,KAAK;AACrE,mBAAe,OAAO,KAAK,OAAO,OAAO,IAAI;AAG7C,cAAU,QAAS,MAAM,SAAS,OAAO,YAAY;AAAA,EACzD;AAGA,QAAM,mBAAmB,MAAM;AAC3B,mBAAe,IAAI;AACnB,QAAI,UAAU,SAAS;AACnB,gBAAU,QAAQ,MAAM,SAAS;AAAA,IACrC;AAAA,EACJ;AAGA,QAAM,cAAc,CAAC,MAA2C;AAC5D,QAAI,CAAC,UAAU,CAAC,YAAY,SAAS;AACjC;AAAA,IACJ;AAEA,UAAM,OAAO,UAAU,QAAS,sBAAA;AAChC,UAAM,IAAI,EAAE,UAAU,KAAK;AAC3B,UAAM,IAAI,EAAE,UAAU,KAAK;AAE3B,UAAM,OAAO,YAAY,QAAQ,kBAAkB,GAAG,GAAG,OAAO,KAAK;AACrE,QAAI,MAAM;AACN,oBAAc,KAAK,OAAO,MAAM,EAAE,WAAW,EAAE,OAAO;AAAA,IAC1D;AAAA,EACJ;AAGA,QAAM,oBAAoB,CAAC,MAA2C;AAClE,QAAI,CAAC,UAAU,CAAC,YAAY,SAAS;AACjC;AAAA,IACJ;AAEA,UAAM,OAAO,UAAU,QAAS,sBAAA;AAChC,UAAM,IAAI,EAAE,UAAU,KAAK;AAC3B,UAAM,IAAI,EAAE,UAAU,KAAK;AAE3B,UAAM,OAAO,YAAY,QAAQ,kBAAkB,GAAG,GAAG,OAAO,KAAK;AACrE,QAAI,MAAM;AACN,0BAAoB,KAAK,OAAO,IAAI;AAAA,IACxC;AAAA,EACJ;AAEA,QAAM,SAAS,kBAAkB,UAAA;AACjC,QAAM,QAAQ,UAAU,OAAO,QAAQ,KAAK,OAAO,cAAc;AAEjE,SACIC,kCAAAA,IAAC,OAAA,EAAI,WAAU,gBACX,UAAAA,kCAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACG,KAAK;AAAA,MACL,WAAU;AAAA,MACV,OAAO,EAAE,OAAO,GAAG,KAAK,KAAA;AAAA,MACxB,aAAa;AAAA,MACb,cAAc;AAAA,MACd,SAAS;AAAA,MACT,eAAe;AAAA,IAAA;AAAA,EAAA,GAEvB;AAER;ACrIO,MAAM,gBAA8C,CAAC,EAAE,QAAQ,cAAc;AAChF,QAAM,CAAC,OAAO,QAAQ,IAAIF,aAAAA,SAAmB,CAAA,CAAE;AAC/C,QAAM,CAAC,OAAO,QAAQ,IAAIA,aAAAA,SAA6B,IAAI;AAC3D,QAAM,CAAC,SAAS,UAAU,IAAIA,aAAAA,SAAS,KAAK;AAE5CC,eAAAA,UAAU,MAAM;AACZ,QAAI,CAAC,QAAQ;AACT,eAAS,CAAA,CAAE;AACX,eAAS,IAAI;AACb;AAAA,IACJ;AAEA,UAAM,cAAc,YAAY;AAC5B,iBAAW,IAAI;AACf,UAAI;AACA,cAAM,CAAC,aAAa,WAAW,IAAI,MAAM,QAAQ,IAAI;AAAA,UACjD,UAAU,KAAK,sBAAsB,OAAO,IAAI;AAAA,UAChD,UAAU,KAAK,sBAAsB,OAAO,IAAI;AAAA,QAAA,CACnD;AACD,iBAAS,WAAW;AACpB,iBAAS,WAAW;AAAA,MACxB,SAAS,OAAO;AACZ,gBAAQ,MAAM,kCAAkC,KAAK;AAAA,MACzD,UAAA;AACI,mBAAW,KAAK;AAAA,MACpB;AAAA,IACJ;AAEA,gBAAA;AAAA,EACJ,GAAG,CAAC,MAAM,CAAC;AAEX,MAAI,CAAC,QAAQ;AACT,iDACK,OAAA,EAAI,WAAU,wBACX,UAAAC,kCAAAA,IAAC,KAAA,EAAE,6CAA+B,EAAA,CACtC;AAAA,EAER;AAEA,QAAM,aAAa,CAAC,SAAe;AAC/B,WAAO,IAAI,KAAK,IAAI,EAAE,eAAA;AAAA,EAC1B;AAEA,SACIC,kCAAAA,KAAC,OAAA,EAAI,WAAU,kBACX,UAAA;AAAA,IAAAA,kCAAAA,KAAC,OAAA,EAAI,WAAU,yBACX,UAAA;AAAA,MAAAD,kCAAAA,IAAC,QAAG,UAAA,iBAAA,CAAc;AAAA,MAClBA,kCAAAA,IAAC,YAAO,WAAU,gBAAe,SAAS,SAAS,OAAM,SAAQ,UAAA,IAAA,CAEjE;AAAA,IAAA,GACJ;AAAA,IAEAC,kCAAAA,KAAC,OAAA,EAAI,WAAU,0BAEX,UAAA;AAAA,MAAAA,kCAAAA,KAAC,OAAA,EAAI,WAAU,kBACX,UAAA;AAAA,QAAAA,kCAAAA,KAAC,OAAA,EAAI,WAAU,cACX,UAAA;AAAA,UAAAD,kCAAAA,IAAC,QAAA,EAAK,WAAU,gBAAe,UAAA,SAAK;AAAA,UACpCA,kCAAAA,IAAC,QAAA,EAAK,WAAU,0BAA0B,iBAAO,KAAA,CAAK;AAAA,QAAA,GAC1D;AAAA,QACAC,kCAAAA,KAAC,OAAA,EAAI,WAAU,cACX,UAAA;AAAA,UAAAD,kCAAAA,IAAC,QAAA,EAAK,WAAU,gBAAe,UAAA,WAAO;AAAA,UACtCA,kCAAAA,IAAC,QAAA,EAAK,WAAU,gBAAgB,iBAAO,OAAA,CAAO;AAAA,QAAA,GAClD;AAAA,QACAC,kCAAAA,KAAC,OAAA,EAAI,WAAU,cACX,UAAA;AAAA,UAAAD,kCAAAA,IAAC,QAAA,EAAK,WAAU,gBAAe,UAAA,UAAM;AAAA,UACrCA,kCAAAA,IAAC,QAAA,EAAK,WAAU,gBAAgB,iBAAO,MAAA,CAAM;AAAA,QAAA,GACjD;AAAA,QACAC,kCAAAA,KAAC,OAAA,EAAI,WAAU,cACX,UAAA;AAAA,UAAAD,kCAAAA,IAAC,QAAA,EAAK,WAAU,gBAAe,UAAA,SAAK;AAAA,gDACnC,QAAA,EAAK,WAAU,gBAAgB,UAAA,WAAW,OAAO,IAAI,EAAA,CAAE;AAAA,QAAA,GAC5D;AAAA,QACC,OAAO,KAAK,SAAS,KAClBC,kCAAAA,KAAC,OAAA,EAAI,WAAU,cACX,UAAA;AAAA,UAAAD,kCAAAA,IAAC,QAAA,EAAK,WAAU,gBAAe,UAAA,SAAK;AAAA,gDACnC,OAAA,EAAI,WAAU,aACV,UAAA,OAAO,KAAK,IAAI,CAAC,KAAK,gDAClB,QAAA,EAAiB,WAAU,WACvB,UAAA,IAAA,GADM,KAEX,CACH,EAAA,CACL;AAAA,QAAA,EAAA,CACJ;AAAA,MAAA,GAER;AAAA,MAGAC,kCAAAA,KAAC,OAAA,EAAI,WAAU,kBACX,UAAA;AAAA,QAAAD,kCAAAA,IAAC,QAAG,UAAA,UAAA,CAAO;AAAA,QACXA,kCAAAA,IAAC,OAAA,EAAI,WAAU,kBAAkB,iBAAO,QAAA,CAAQ;AAAA,MAAA,GACpD;AAAA,MAGC,SACGC,kCAAAA,KAAC,OAAA,EAAI,WAAU,kBACX,UAAA;AAAA,QAAAD,kCAAAA,IAAC,QAAG,UAAA,UAAA,CAAO;AAAA,QACXC,kCAAAA,KAAC,OAAA,EAAI,WAAU,gBACX,UAAA;AAAA,UAAAA,kCAAAA,KAAC,QAAA,EAAK,WAAU,aACZ,UAAA;AAAA,YAAAD,kCAAAA,IAAC,QAAA,EAAK,WAAU,cAAa,UAAA,UAAM;AAAA,YACnCA,kCAAAA,IAAC,QAAA,EAAK,WAAU,cAAc,gBAAM,MAAA,CAAM;AAAA,UAAA,GAC9C;AAAA,UACAC,kCAAAA,KAAC,QAAA,EAAK,WAAU,4BACZ,UAAA;AAAA,YAAAD,kCAAAA,IAAC,QAAA,EAAK,WAAU,cAAa,UAAA,KAAC;AAAA,YAC9BA,kCAAAA,IAAC,QAAA,EAAK,WAAU,cAAc,gBAAM,WAAA,CAAW;AAAA,UAAA,GACnD;AAAA,UACAC,kCAAAA,KAAC,QAAA,EAAK,WAAU,4BACZ,UAAA;AAAA,YAAAD,kCAAAA,IAAC,QAAA,EAAK,WAAU,cAAa,UAAA,KAAC;AAAA,YAC9BA,kCAAAA,IAAC,QAAA,EAAK,WAAU,cAAc,gBAAM,UAAA,CAAU;AAAA,UAAA,EAAA,CAClD;AAAA,QAAA,EAAA,CACJ;AAAA,MAAA,GACJ;AAAA,MAIJC,kCAAAA,KAAC,OAAA,EAAI,WAAU,kBACX,UAAA;AAAA,QAAAA,uCAAC,MAAA,EAAG,UAAA;AAAA,UAAA;AAAA,UAAgB,MAAM;AAAA,UAAO;AAAA,QAAA,GAAC;AAAA,QACjC,gDACI,OAAA,EAAI,WAAU,WAAU,UAAA,mBAAA,CAAgB,IAEzCD,kCAAAA,IAAC,OAAA,EAAI,WAAU,cACV,gBAAM,IAAI,CAAC,MAAM,UACdA,kCAAAA,IAAC,OAAA,EAAgB,WAAU,aACtB,UAAA,KAAA,GADK,KAEV,CACH,EAAA,CACL;AAAA,MAAA,GAER;AAAA,MAGC,OAAO,QAAQ,SAAS,KACrBC,kCAAAA,KAAC,OAAA,EAAI,WAAU,kBACX,UAAA;AAAA,QAAAD,kCAAAA,IAAC,QAAG,UAAA,UAAA,CAAO;AAAA,QACXA,kCAAAA,IAAC,SAAI,WAAU,gBACV,iBAAO,QAAQ,IAAI,CAAC,QAAQ,gDACxB,OAAA,EAAgB,WAAU,yBACtB,UAAA,OAAO,UAAU,GAAG,CAAC,KADhB,KAEV,CACH,EAAA,CACL;AAAA,MAAA,EAAA,CACJ;AAAA,IAAA,EAAA,CAER;AAAA,EAAA,GACJ;AAER;ACxJO,MAAM,YAAsC,CAAC,EAAE,UAAU,cAAc;AAC1E,QAAM,CAAC,OAAO,QAAQ,IAAIF,aAAAA,SAAS,EAAE;AACrC,QAAM,CAAC,YAAY,aAAa,IAAIA,aAAAA,SAAwC,SAAS;AAErF,QAAM,eAAeM,aAAAA,YAAY,MAAM;AACnC,QAAI,MAAM,QAAQ;AACd,eAAS,MAAM,KAAA,GAAQ,UAAU;AAAA,IACrC;AAAA,EACJ,GAAG,CAAC,OAAO,YAAY,QAAQ,CAAC;AAEhC,QAAM,cAAcA,aAAAA,YAAY,MAAM;AAClC,aAAS,EAAE;AACX,YAAA;AAAA,EACJ,GAAG,CAAC,OAAO,CAAC;AAEZ,QAAM,gBAAgB,CAAC,MAA2B;AAC9C,QAAI,EAAE,QAAQ,SAAS;AACnB,mBAAA;AAAA,IACJ,WAAW,EAAE,QAAQ,UAAU;AAC3B,kBAAA;AAAA,IACJ;AAAA,EACJ;AAEA,SACIH,kCAAAA,KAAC,OAAA,EAAI,WAAU,cACX,UAAA;AAAA,IAAAA,kCAAAA,KAAC,OAAA,EAAI,WAAU,sBACX,UAAA;AAAA,MAAAD,kCAAAA;AAAAA,QAAC;AAAA,QAAA;AAAA,UACG,MAAK;AAAA,UACL,WAAU;AAAA,UACV,aAAa,aAAa,UAAU;AAAA,UACpC,OAAO;AAAA,UACP,UAAU,CAAC,MAAM,SAAS,EAAE,OAAO,KAAK;AAAA,UACxC,WAAW;AAAA,QAAA;AAAA,MAAA;AAAA,MAEd,+CACI,UAAA,EAAO,WAAU,gBAAe,SAAS,aAAa,OAAM,gBAAe,UAAA,IAAA,CAE5E;AAAA,IAAA,GAER;AAAA,IAEAC,kCAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACG,WAAU;AAAA,QACV,OAAO;AAAA,QACP,UAAU,CAAC,MAAM,cAAc,EAAE,OAAO,KAAY;AAAA,QAEpD,UAAA;AAAA,UAAAD,kCAAAA,IAAC,UAAA,EAAO,OAAM,WAAU,UAAA,WAAO;AAAA,UAC/BA,kCAAAA,IAAC,UAAA,EAAO,OAAM,UAAS,UAAA,UAAM;AAAA,UAC7BA,kCAAAA,IAAC,UAAA,EAAO,OAAM,QAAO,UAAA,OAAA,CAAI;AAAA,QAAA;AAAA,MAAA;AAAA,IAAA;AAAA,IAG7BA,kCAAAA,IAAC,UAAA,EAAO,WAAU,iBAAgB,SAAS,cAAc,UAAU,CAAC,MAAM,QAAQ,UAAA,SAAA,CAElF;AAAA,EAAA,GACJ;AAER;AC/CO,MAAM,gBAA8C,CAAC;AAAA,EACxD;AAAA,EACA;AAAA,EACA;AAAA,EACA,WAAW;AAAA,EACX;AAAA,EACA;AAAA,EACA,UAAU;AACd,MAAM;AACF,QAAM,eAAeG,aAAAA,OAAuB,IAAI;AAChD,QAAM,CAAC,WAAW,YAAY,IAAIL,aAAAA,SAAS,CAAC;AAG5C,QAAM,eAAe,KAAK,MAAM,YAAY,UAAU;AACtD,QAAM,aAAa,KAAK,MAAM,YAAY,UAAU,UAAU;AAG9D,QAAM,aAAa,KAAK,IAAI,GAAG,eAAe,QAAQ;AACtD,QAAM,WAAW,KAAK,IAAI,WAAW,aAAa,QAAQ;AAG1D,QAAM,cAAc,YAAY;AAGhC,QAAM,UAAU,aAAa;AAG7B,QAAM,eAAeM,aAAAA;AAAAA,IACjB,CAAC,MAAqC;AAClC,YAAM,SAAS,EAAE;AACjB,mBAAa,OAAO,SAAS;AAG7B,UAAI,cAAc,SAAS;AACvB,cAAM,eAAe,OAAO,YAAY,OAAO;AAC/C,cAAM,YAAY,cAAc,aAAa;AAE7C,YAAI,gBAAgB,WAAW;AAC3B,qBAAA;AAAA,QACJ;AAAA,MACJ;AAAA,IACJ;AAAA,IACA,CAAC,YAAY,SAAS,aAAa,UAAU;AAAA,EAAA;AAIjD,QAAM,gBAAgBA,aAAAA;AAAAA,IAClB,CAAC,OAAe,WAA2B,aAAa;AACpD,UAAI,aAAa,SAAS;AACtB,cAAMC,aAAY,QAAQ;AAC1B,qBAAa,QAAQ,SAAS;AAAA,UAC1B,KAAKA;AAAAA,UACL;AAAA,QAAA,CACH;AAAA,MACL;AAAA,IACJ;AAAA,IACA,CAAC,UAAU;AAAA,EAAA;AAIfN,eAAAA,UAAU,MAAM;AACZ,QAAI,aAAa,SAAS;AACrB,mBAAa,QAAgB,gBAAgB;AAAA,IAClD;AAAA,EACJ,GAAG,CAAC,aAAa,CAAC;AAElB,SACIC,kCAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACG,KAAK;AAAA,MACL,WAAU;AAAA,MACV,OAAO,EAAE,QAAQ,GAAG,MAAM,MAAM,UAAU,OAAA;AAAA,MAC1C,UAAU;AAAA,MAEV,UAAAA,kCAAAA,IAAC,OAAA,EAAI,WAAU,yBAAwB,OAAO,EAAE,QAAQ,GAAG,WAAW,KAAA,GAClE,UAAAA,kCAAAA;AAAAA,QAAC;AAAA,QAAA;AAAA,UACG,WAAU;AAAA,UACV,OAAO,EAAE,WAAW,cAAc,OAAO,MAAA;AAAA,UAExC,UAAA,SAAS,YAAY,QAAQ;AAAA,QAAA;AAAA,MAAA,EAClC,CACJ;AAAA,IAAA;AAAA,EAAA;AAGZ;AC1FO,SAAS,eAAe;AAC3B,QAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA,IACA,YAAA;AAEJ,QAAM,CAAC,gBAAgB,iBAAiB,IAAIF,aAAAA,SAA4B,IAAI;AAC5E,QAAM,CAAC,aAAa,cAAc,IAAIA,aAAAA,SAAS,KAAK;AAGpDC,eAAAA,UAAU,MAAM;AACZ,iBAAa,EAAE,UAAU,KAAK;AAC9B,kBAAA;AAAA,EACJ,GAAG,CAAC,cAAc,aAAa,CAAC;AAEhC,QAAM,oBAAoB,CAAC,MAAc,UAAmB;AACxD,iBAAa,MAAM,KAAK;AAGxB,QAAI,CAAC,OAAO;AACR,YAAM,SAAS,QAAQ,KAAK,CAAC,MAAM,EAAE,SAAS,IAAI;AAClD,UAAI,QAAQ;AACR,0BAAkB,MAAM;AACxB,uBAAe,IAAI;AAAA,MACvB;AAAA,IACJ;AAAA,EACJ;AAEA,QAAM,0BAA0B,CAAC,SAAiB;AAC9C,UAAM,SAAS,QAAQ,KAAK,CAAC,MAAM,EAAE,SAAS,IAAI;AAClD,QAAI,QAAQ;AACR,wBAAkB,MAAM;AACxB,qBAAe,IAAI;AAAA,IACvB;AAAA,EACJ;AAEA,QAAM,eAAe,CAAC,OAAe,SAAwC;AACzE,kBAAc,OAAO,IAAI;AAAA,EAC7B;AAEA,QAAM,oBAAoB,MAAM;AAC5B,gBAAA;AAAA,EACJ;AAEA,QAAM,qBAAqB,MAAM;AAC7B,mBAAe,KAAK;AAAA,EACxB;AAEA,SACIE,kCAAAA,KAAC,OAAA,EAAI,WAAU,iBACX,UAAA;AAAA,IAAAA,kCAAAA,KAAC,OAAA,EAAI,WAAU,kBACX,UAAA;AAAA,MAAAD,kCAAAA,IAAC,QAAG,UAAA,iBAAA,CAAc;AAAA,MAClBC,kCAAAA,KAAC,QAAA,EAAK,WAAU,gBACX,UAAA;AAAA,QAAA,QAAQ;AAAA,QAAO;AAAA,QACf,eAAe;AAAA,MAAA,EAAA,CACpB;AAAA,IAAA,GACJ;AAAA,IAEAD,kCAAAA,IAAC,WAAA,EAAU,UAAU,cAAc,SAAS,mBAAmB;AAAA,IAE/DC,kCAAAA,KAAC,OAAA,EAAI,WAAU,mBACX,UAAA;AAAA,MAAAA,kCAAAA,KAAC,OAAA,EAAI,WAAU,gBACX,UAAA;AAAA,QAAAD,kCAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YACG;AAAA,YACA,gBAAgB;AAAA,YAChB,eAAe;AAAA,YACf,qBAAqB;AAAA,UAAA;AAAA,QAAA;AAAA,QAEzBC,kCAAAA,KAAC,OAAA,EAAI,WAAU,yBACX,UAAA;AAAA,UAAAD,kCAAAA;AAAAA,YAAC;AAAA,YAAA;AAAA,cACG,WAAW,QAAQ;AAAA,cACnB,YAAY;AAAA,cACZ,QAAQ;AAAA,cACR,UAAU;AAAA,cACV,YAAY;AAAA,cACZ,SAAS,WAAW,CAAC;AAAA,cAEpB,UAAA,CAAC,YAAY,aACVA,kCAAAA;AAAAA,gBAAC;AAAA,gBAAA;AAAA,kBACG,SAAS,QAAQ,MAAM,YAAY,QAAQ;AAAA,kBAC3C;AAAA,kBACA,gBAAe,iCAAQ,YAAW;AAAA,kBAClC;AAAA,gBAAA;AAAA,cAAA;AAAA,YACJ;AAAA,UAAA;AAAA,UAGP,WACGA,kCAAAA,IAAC,OAAA,EAAI,WAAU,qBAAoB,UAAA,0BAAA,CAAuB;AAAA,QAAA,EAAA,CAElE;AAAA,MAAA,GACJ;AAAA,MAEC,eACGA,kCAAAA,IAAC,eAAA,EAAc,QAAQ,gBAAgB,SAAS,mBAAA,CAAoB;AAAA,IAAA,EAAA,CAE5E;AAAA,EAAA,GACJ;AAER;AChHA,SAAS,MAAM;AACX,QAAM,EAAE,aAAa,aAAA,IAAiB,YAAA;AACtC,QAAM,CAAC,SAAS,UAAU,IAAIF,aAAAA,SAAS,IAAI;AAC3C,QAAM,CAAC,OAAO,QAAQ,IAAIA,aAAAA,SAAwB,IAAI;AACtD,QAAM,CAAC,MAAM,OAAO,IAAIA,aAAAA,SAA2B,MAAM;AAEzD,UAAQ,IAAI,iCAAiC;AAE7CC,eAAAA,UAAU,MAAM;AAEZ,UAAM,gBAAgB,CAAC,UAAwB;AAC3C,YAAM,UAAU,MAAM;AACtB,UAAI,QAAQ,SAAS,WAAW;AAC5B,gBAAQ,QAAQ,IAAI;AAAA,MACxB;AAAA,IACJ;AAEA,WAAO,iBAAiB,WAAW,aAAa;AAChD,WAAO,MAAM;AACT,aAAO,oBAAoB,WAAW,aAAa;AAAA,IACvD;AAAA,EACJ,GAAG,CAAA,CAAE;AAELA,eAAAA,UAAU,MAAM;AACZ,YAAQ,IAAI,oDAAoD;AAGhE,UAAM,WAAW,YAAY;AACzB,UAAI;AACA,mBAAW,IAAI;AACf,iBAAS,IAAI;AAEb,gBAAQ,IAAI,wCAAwC;AAGpD,cAAM,UAAU,MAAM,QAAQ,IAAI;AAAA,UAC9B,YAAA,EAAc,MAAM,CAAA,QAAO;AACvB,oBAAQ,MAAM,yCAAyC,GAAG;AAC1D,kBAAM,IAAI,MAAM,8BAA8B,IAAI,WAAW,GAAG,EAAE;AAAA,UACtE,CAAC;AAAA,UACD,aAAA,EAAe,MAAM,CAAA,QAAO;AACxB,oBAAQ,MAAM,0CAA0C,GAAG;AAC3D,kBAAM,IAAI,MAAM,+BAA+B,IAAI,WAAW,GAAG,EAAE;AAAA,UACvE,CAAC;AAAA,QAAA,CACJ;AAED,gBAAQ,IAAI,oDAAoD,OAAO;AACvE,gBAAQ,IAAI,wCAAwC;AACpD,mBAAW,KAAK;AAAA,MACpB,SAAS,KAAK;AACV,gBAAQ,MAAM,sCAAsC,GAAG;AACvD,iBAAS,eAAe,QAAQ,IAAI,UAAU,OAAO,GAAG,CAAC;AACzD,mBAAW,KAAK;AAAA,MACpB;AAAA,IACJ;AAGA,QAAI,SAAS,QAAQ;AACjB,eAAA;AAAA,IACJ;AAAA,EACJ,GAAG,CAAC,aAAa,cAAc,IAAI,CAAC;AAGpCA,eAAAA,UAAU,MAAM;AACZ,QAAI,CAAC,SAAS;AACV,YAAM,YAAY,SAAS,eAAe,SAAS;AACnD,UAAI,WAAW;AACX,kBAAU,MAAM,UAAU;AAAA,MAC9B;AAAA,IACJ;AAAA,EACJ,GAAG,CAAC,OAAO,CAAC;AAGZ,MAAI,SAAS,SAAS;AAClB,iDAAQ,cAAA,EAAa;AAAA,EACzB;AAGA,MAAI,OAAO;AACP,WACIE,kCAAAA,KAAC,OAAA,EAAI,WAAU,aACX,UAAA;AAAA,MAAAD,kCAAAA,IAAC,OAAA,EAAI,WAAU,cAAa,UAAA,MAAE;AAAA,MAC9BA,kCAAAA,IAAC,QAAG,UAAA,yBAAA,CAAsB;AAAA,MAC1BA,kCAAAA,IAAC,KAAA,EAAE,WAAU,iBAAiB,UAAA,OAAM;AAAA,MACpCA,kCAAAA,IAAC,OAAA,EAAI,WAAU,iBACX,UAAAA,kCAAAA,IAAC,UAAA,EAAO,SAAS,MAAM,OAAO,SAAS,OAAA,GAAU,oBAEjD,GACJ;AAAA,MACAC,kCAAAA,KAAC,OAAA,EAAI,WAAU,cACX,UAAA;AAAA,QAAAD,kCAAAA,IAAC,OAAE,UAAA,mBAAA,CAAgB;AAAA,+CAClB,MAAA,EACG,UAAA;AAAA,UAAAA,kCAAAA,IAAC,QAAG,UAAA,0BAAA,CAAuB;AAAA,UAC3BA,kCAAAA,IAAC,QAAG,UAAA,sCAAA,CAAmC;AAAA,UACvCA,kCAAAA,IAAC,QAAG,UAAA,yCAAA,CAAsC;AAAA,QAAA,GAC9C;AAAA,QACAA,kCAAAA,IAAC,OAAE,UAAA,qEAAA,CAAkE;AAAA,MAAA,EAAA,CACzE;AAAA,IAAA,GACJ;AAAA,EAER;AAEA,MAAI,SAAS;AACT,WACIC,kCAAAA,KAAC,OAAA,EAAI,WAAU,eACX,UAAA;AAAA,MAAAD,kCAAAA,IAAC,OAAA,EAAI,WAAU,kBAAA,CAAkB;AAAA,MACjCA,kCAAAA,IAAC,OAAE,UAAA,4BAAA,CAAyB;AAAA,IAAA,GAChC;AAAA,EAER;AAEA,SACIC,kCAAAA,KAAC,OAAA,EAAI,WAAU,OACX,UAAA;AAAA,IAAAD,kCAAAA,IAAC,SAAI,WAAU,cACX,UAAAA,sCAAC,MAAA,EAAG,qBAAO,EAAA,CACf;AAAA,IACAC,kCAAAA,KAAC,OAAA,EAAI,WAAU,eACX,UAAA;AAAA,MAAAD,sCAAC,OAAA,EAAI,WAAU,mBACX,UAAAA,sCAAC,cAAW,GAChB;AAAA,4CACC,OAAA,EAAI,WAAU,mBACX,UAAAA,kCAAAA,IAAC,gBAAa,EAAA,CAClB;AAAA,IAAA,EAAA,CACJ;AAAA,EAAA,GACJ;AAER;AC/HA,QAAQ,IAAI,8CAA8C;AAC1D,QAAQ,IAAI,oCAAoC,MAAM,OAAO;AAC7D,QAAQ,IAAI,mCAAmC,SAAS,eAAe,MAAM,CAAC;AAE9E,IAAI;AACA,QAAM,cAAc,SAAS,eAAe,MAAM;AAClD,MAAI,CAAC,aAAa;AACd,UAAM,IAAI,MAAM,wBAAwB;AAAA,EAC5C;AAEA,UAAQ,IAAI,0CAA0C;AACtD,QAAM,OAAOM,OAAS,WAAW,WAAW;AAE5C,UAAQ,IAAI,8CAA8C;AAC1D,OAAK;AAAA,0CACA,MAAM,YAAN,EACG,UAAAN,sCAAC,OAAI,EAAA,CACT;AAAA,EAAA;AAGJ,UAAQ,IAAI,6CAA6C;AAGzD,aAAW,MAAM;AACb,UAAM,UAAU,SAAS,eAAe,SAAS;AACjD,QAAI,SAAS;AACT,cAAQ,MAAM,UAAU;AACxB,cAAQ,IAAI,yCAAyC;AAAA,IACzD;AAAA,EACJ,GAAG,GAAG;AACV,SAAS,OAAO;AACZ,UAAQ,MAAM,2CAA2C,KAAK;AAC9D,QAAM,iBAAiB,SAAS,eAAe,OAAO;AACtD,QAAM,eAAe,SAAS,eAAe,eAAe;AAC5D,QAAM,UAAU,SAAS,eAAe,SAAS;AAEjD,MAAI;AAAS,YAAQ,MAAM,UAAU;AACrC,MAAI;AAAgB,mBAAe,MAAM,UAAU;AACnD,MAAI;AAAc,iBAAa,cAAc,iBAAiB,QAAQ,MAAM,UAAU,OAAO,KAAK;AACtG;"}